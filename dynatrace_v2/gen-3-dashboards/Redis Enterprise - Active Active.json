{"version":19,"variables":[{"key":"Cluster","visible":true,"type":"query","version":1,"editable":true,"input":"timeseries any=avg(redis.db_config), by:{cluster}\n| fieldsKeep cluster\n| sort cluster","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"key":"crdt_guid","visible":true,"type":"query","version":1,"editable":true,"input":"timeseries any=avg(redis.database_syncer_current_status), by:{cluster, crdt_guid}\n| summarize count(), by:{crdt_guid}\n| fieldsKeep crdt_guid\n| sort crdt_guid","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]}],"tiles":{"0":{"type":"data","title":"Syncer Status","query":"timeseries max(redis.database_syncer_current_status), by: { cluster, crdt_guid }\n| fieldsAdd value.A = arrayLast(`max(redis.database_syncer_current_status)`)","queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.database_syncer_current_status","aggregation":"max"},"by":["cluster","crdt_guid"],"convertToValue":"Last"}]},"subType":"dql-builder-metrics","visualization":"singleValue","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"autoSelectVisualization":false,"thresholds":[{"id":1,"field":"value.A","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-status-ideal-default, #2f6862)"},"comparator":"=","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-status-warning-default, #eea53c)"},"comparator":"â‰¥","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-status-critical-default, #c62239)"},"comparator":"!=","label":"","value":0}]}],"table":{"columnTypeOverrides":[{"fields":["max(redis.database_syncer_current_status)"],"value":"sparkline","id":1756406771675}]},"unitsOverrides":[{"identifier":null,"unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1756407084702}],"singleValue":{"showLabel":false,"isIconVisible":false,"prefixIcon":"AbsoluteIcon","alignment":"center","colorThresholdTarget":"background"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"1":{"type":"data","title":"Ingress","query":"timeseries { avg(redis.database_syncer_ingress_bytes), value.A = avg(redis.database_syncer_ingress_bytes, scalar: true) }, by: { cluster, crdt_guid }, filter: { matchesValue(cluster, $Cluster) AND matchesValue(crdt_guid, $crdt_guid) }","queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.database_syncer_ingress_bytes","aggregation":"avg"},"by":["cluster","crdt_guid"],"filter":"cluster =$Cluster  crdt_guid =$crdt_guid"}]},"subType":"dql-builder-metrics","visualization":"lineChart","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"autoSelectVisualization":true,"table":{"columnTypeOverrides":[{"fields":["avg(redis.database_syncer_ingress_bytes)"],"value":"sparkline","id":1756407296962}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"2":{"type":"data","title":"RDB Transferred","query":"timeseries { avg(redis.database_syncer_rdb_transferred), value.A = avg(redis.database_syncer_rdb_transferred, scalar: true) }, by: { cluster, crdt_guid }, filter: { matchesValue(cluster, $Cluster) AND matchesValue(crdt_guid, $crdt_guid) }","queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.database_syncer_rdb_transferred","aggregation":"avg"},"by":["cluster","crdt_guid"],"filter":"cluster =$Cluster  crdt_guid =$crdt_guid"}]},"subType":"dql-builder-metrics","visualization":"lineChart","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"autoSelectVisualization":true,"table":{"columnTypeOverrides":[{"fields":["avg(redis.database_syncer_rdb_transferred)"],"value":"sparkline","id":1756407408227}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"3":{"type":"data","title":"Syncer RDB Size","query":"timeseries { avg(redis.database_syncer_rdb_size), value.A = avg(redis.database_syncer_rdb_size, scalar: true) }, by: { crdt_guid, cluster }, filter: { matchesValue(cluster, $Cluster) AND matchesValue(crdt_guid, $crdt_guid) }","queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.database_syncer_rdb_size","aggregation":"avg"},"by":["crdt_guid","cluster"],"filter":"cluster =$Cluster  crdt_guid =$crdt_guid"}]},"subType":"dql-builder-metrics","visualization":"singleValue","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"autoSelectVisualization":false,"thresholds":[],"table":{"columnTypeOverrides":[{"fields":["avg(redis.database_syncer_rdb_size)"],"value":"sparkline","id":1756407904329}]},"singleValue":{"showLabel":false}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"4":{"type":"data","title":"Sync Lag","query":"timeseries { avg(redis.database_syncer_dst_lag), value.A = avg(redis.database_syncer_dst_lag, scalar: true) }, by: { crdt_guid, cluster }, filter: { matchesValue(cluster, $Cluster) AND matchesValue(crdt_guid, $crdt_guid) }","queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.database_syncer_dst_lag","aggregation":"avg"},"by":["crdt_guid","cluster"],"filter":"cluster =$Cluster  crdt_guid =$crdt_guid"}]},"subType":"dql-builder-metrics","visualization":"singleValue","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"autoSelectVisualization":false,"thresholds":[],"table":{"columnTypeOverrides":[{"fields":["avg(redis.database_syncer_dst_lag)"],"value":"sparkline","id":1756408094609}]},"singleValue":{"showLabel":false},"unitsOverrides":[{"identifier":"value.A","unitCategory":"time","baseUnit":"millisecond","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1756408214539}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"5":{"type":"data","title":"Ingress Decompressed","query":"timeseries { avg(redis.database_syncer_ingress_bytes_decompressed), value.A = avg(redis.database_syncer_ingress_bytes_decompressed, scalar: true) }, by: { crdt_guid, cluster }, filter: { matchesValue(cluster, $Cluster) AND matchesValue(crdt_guid, $crdt_guid) }","queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.database_syncer_ingress_bytes_decompressed","aggregation":"avg"},"by":["crdt_guid","cluster"],"filter":"cluster =$Cluster  crdt_guid =$crdt_guid"}]},"subType":"dql-builder-metrics","visualization":"lineChart","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"autoSelectVisualization":true,"table":{"columnTypeOverrides":[{"fields":["avg(redis.database_syncer_ingress_bytes_decompressed)"],"value":"sparkline","id":1756408540689}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"6":{"type":"data","title":"Egress Pending","query":"timeseries { sum(redis.endpoint_egress_pending), value.A = avg(redis.endpoint_egress_pending, scalar: true) }, filter: { matchesValue(cluster, $Cluster) }","queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.endpoint_egress_pending","aggregation":"sum"},"filter":"cluster =$Cluster  "}]},"subType":"dql-builder-metrics","visualization":"lineChart","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"autoSelectVisualization":true,"table":{"columnTypeOverrides":[{"fields":["sum(redis.endpoint_egress_pending)"],"value":"sparkline","id":1756408789653}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"7":{"type":"data","title":"Pending Max Writes","query":"timeseries { avg(redis.redis_server_crdt_pending_list_trimmed_vertices), value.A = avg(redis.redis_server_crdt_pending_list_trimmed_vertices, scalar: true) }, by: { crdt_guid, cluster }","queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.redis_server_crdt_pending_list_trimmed_vertices","aggregation":"avg"},"by":["crdt_guid","cluster"],"filter":""}]},"subType":"dql-builder-metrics","visualization":"singleValue","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"autoSelectVisualization":false,"thresholds":[],"table":{"columnTypeOverrides":[{"fields":["avg(redis.redis_server_crdt_pending_list_trimmed_vertices)"],"value":"sparkline","id":1756408854926}]},"singleValue":{"showLabel":false},"unitsOverrides":[{"identifier":"value.A","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1756408867544}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"8":{"type":"data","title":"Sync Backlog","query":"timeseries { avg(redis.redis_server_crdt_backlog_size), value.A = avg(redis.redis_server_crdt_backlog_size, scalar: true) }, by: { crdt_guid, cluster }, filter: { matchesValue(cluster, $Cluster) AND matchesValue(crdt_guid, $crdt_guid) }","queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.redis_server_crdt_backlog_size","aggregation":"avg"},"by":["crdt_guid","cluster"],"filter":"cluster =$Cluster  crdt_guid =$crdt_guid"}]},"subType":"dql-builder-metrics","visualization":"singleValue","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"autoSelectVisualization":false,"thresholds":[],"table":{"columnTypeOverrides":[{"fields":["avg(redis.redis_server_crdt_backlog_size)"],"value":"sparkline","id":1756408969535}]},"singleValue":{"showLabel":false}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"9":{"type":"data","title":"Ingestion Sync Lag","query":"timeseries { avg(redis.database_syncer_lag_ms), value.A = avg(redis.database_syncer_lag_ms, scalar: true) }, by: { crdt_guid, cluster }","queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.database_syncer_lag_ms","aggregation":"avg"},"by":["crdt_guid","cluster"],"filter":""}]},"subType":"dql-builder-metrics","visualization":"lineChart","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"autoSelectVisualization":true,"table":{"columnTypeOverrides":[{"fields":["avg(redis.database_syncer_lag_ms)"],"value":"sparkline","id":1756409120506}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"10":{"type":"data","title":"Merge Requests","query":"timeseries { avg(redis.redis_server_crdt_merge_reqs), value.A = avg(redis.redis_server_crdt_merge_reqs, scalar: true) }, by: { cluster, crdt_guid }, filter: { matchesValue(cluster, $Cluster) AND matchesValue(crdt_guid, $crdt_guid) }","queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.redis_server_crdt_merge_reqs","aggregation":"avg"},"by":["cluster","crdt_guid"],"filter":"cluster =$Cluster  crdt_guid =$crdt_guid"}]},"subType":"dql-builder-metrics","visualization":"lineChart","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"autoSelectVisualization":true,"table":{"columnTypeOverrides":[{"fields":["avg(redis.redis_server_crdt_merge_reqs)"],"value":"sparkline","id":1756409194813}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"11":{"type":"data","title":"Pending Garbage Collection","query":"timeseries { avg(redis.redis_server_crdt_gc_pending), value.A = avg(redis.redis_server_crdt_gc_pending, scalar: true) }, by: { cluster, crdt_guid }","queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.redis_server_crdt_gc_pending","aggregation":"avg"},"by":["cluster","crdt_guid"]}]},"subType":"dql-builder-metrics","visualization":"singleValue","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"autoSelectVisualization":false,"thresholds":[],"table":{"columnTypeOverrides":[{"fields":["avg(redis.redis_server_crdt_gc_pending)"],"value":"sparkline","id":1756409275959}]},"singleValue":{"showLabel":false}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}}},"layouts":{"0":{"x":0,"y":0,"w":4,"h":6},"1":{"x":4,"y":0,"w":8,"h":6},"2":{"x":12,"y":0,"w":8,"h":6},"3":{"x":20,"y":0,"w":4,"h":6},"4":{"x":0,"y":6,"w":4,"h":6},"5":{"x":4,"y":6,"w":8,"h":6},"6":{"x":12,"y":6,"w":8,"h":6},"7":{"x":20,"y":6,"w":4,"h":6},"8":{"x":0,"y":12,"w":4,"h":6},"9":{"x":4,"y":12,"w":8,"h":6},"10":{"x":12,"y":12,"w":8,"h":6},"11":{"x":20,"y":12,"w":4,"h":6}},"importedWithCode":false,"settings":{}}