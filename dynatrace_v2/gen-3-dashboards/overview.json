{"version":19,"variables":[{"version":1,"key":"Cluster","type":"query","visible":true,"editable":true,"input":"timeseries any=avg(redis.db_config), by:{cluster}\n| fieldsKeep cluster\n| sort cluster","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]}],"tiles":{"0":{"title":"Database List","type":"data","subType":"dql-builder-metrics","query":"timeseries { sum(redis.db_config), value.A = avg(redis.db_config, scalar: true) }, by: { cluster, db, db_name }","visualization":"table","visualizationSettings":{"autoSelectVisualization":false,"thresholds":[],"chartSettings":{"gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"horizontal","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","valueAxisScale":"linear"},"colorPalette":"categorical","valueRepresentation":"absolute","truncationMode":"middle","xAxisScaling":"analyzedTimeframe","xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"hiddenLegendFields":["interval","value.A"],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["endpoint_client_connections.count:splitBy(cluster, db):sort(value(auto,descending)):limit(20)"]},"leftYAxisSettings":{"isLabelVisible":true,"label":"endpoint_client_connections"}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"AnalyticsIcon","isIconVisible":false,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[["timeframe","start"],["timeframe","end"],["interval"],["sum(redis.db_config)"],["value.A"]],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[{"fields":["sum(redis.db_config)"],"value":"sparkline","id":1756315158679}],"columnOrder":["[\"timeframe\",\"start\"]","[\"timeframe\",\"end\"]","[\"interval\"]","[\"cluster\"]","[\"db_name\"]","[\"db\"]","[\"sum(redis.db_config)\"]","[\"value.A\"]"]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto","ratio":"auto"},"dataMappings":{},"displayedFields":[],"truncationMode":"middle","labels":{"showLabels":false},"colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"legend":{"position":"auto"},"yAxis":{"label":"Frequency","isLabelVisible":true,"scale":"linear"},"colorPalette":"categorical","dataMappings":[],"variant":"single","truncationMode":"middle"},"valueBoundaries":{"min":"auto","max":"auto"}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.db_config","aggregation":"sum"},"by":["cluster","db","db_name"]}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"1":{"title":"Used Memory","type":"data","subType":"dql-builder-metrics","query":"timeseries sum(redis.redis_server_used_memory)\n| fieldsAdd value.A = arrayLast(`sum(redis.redis_server_used_memory)`)","visualization":"singleValue","visualizationSettings":{"thresholds":[],"autoSelectVisualization":false,"table":{"columnTypeOverrides":[{"fields":["sum(redis.redis_server_used_memory)"],"value":"sparkline","id":1756314405971}]},"chartSettings":{},"singleValue":{"label":"Used Memory","trend":{"isVisible":false},"sparklineSettings":{"isVisible":false},"showLabel":false},"unitsOverrides":[{"identifier":"value.A","unitCategory":"data","baseUnit":"byte","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1756412140220}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.redis_server_used_memory","aggregation":"sum"},"convertToValue":"Last","filter":""}],"globalCommands":{}},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"2":{"title":"Number of Keys","type":"data","subType":"dql-builder-metrics","query":"timeseries sum(redis.redis_server_db0_keys)\n| fieldsAdd value.A = arrayLast(`sum(redis.redis_server_db0_keys)`)","visualization":"singleValue","visualizationSettings":{"thresholds":[],"autoSelectVisualization":false,"table":{"columnTypeOverrides":[{"fields":["sum(redis.redis_server_db0_keys)"],"value":"sparkline","id":1756314512780}]},"singleValue":{"label":"","trend":{"isVisible":false},"sparklineSettings":{"isVisible":false},"showLabel":false},"unitsOverrides":[{"identifier":"value.A","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1756412126758}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.redis_server_db0_keys","aggregation":"sum"},"convertToValue":"Last"}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"3":{"title":"Connections","type":"data","subType":"dql-builder-metrics","query":"timeseries sum(redis.endpoint_client_connections)\n| join [\n    timeseries sum(redis.endpoint_client_disconnections)\n  ], on: { interval }, fields: { `sum(redis.endpoint_client_disconnections)` }\n| fieldsAdd C = `sum(redis.endpoint_client_connections)`[]-`sum(redis.endpoint_client_disconnections)`[]\n| fieldsAdd value.C = arrayLast(`C`)\n| fieldsRemove `sum(redis.endpoint_client_connections)`\n| fieldsRemove `sum(redis.endpoint_client_disconnections)`","visualization":"singleValue","visualizationSettings":{"thresholds":[],"autoSelectVisualization":false,"table":{"columnTypeOverrides":[{"fields":["C"],"value":"sparkline","id":1756315071774}],"columnOrder":["[\"timeframe\",\"start\"]","[\"timeframe\",\"end\"]","[\"interval\"]","[\"C\"]","[\"value.C\"]"]},"singleValue":{"isIconVisible":false,"recordField":"value.C","trend":{"trendType":"custom"},"sparklineSettings":{"isVisible":false},"label":"Num Connections","showLabel":false,"colorThresholdTarget":"value"},"unitsOverrides":[{"identifier":"value.C","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1756412168995}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":false,"datatype":"metrics","metric":{"key":"redis.endpoint_client_connections","aggregation":"sum"},"filter":""},{"id":"B","isEnabled":false,"datatype":"metrics","metric":{"key":"redis.endpoint_client_disconnections","aggregation":"sum"},"filter":""},{"id":"C","isEnabled":true,"datatype":"expression","expression":"A-B","convertToValue":"Last"}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"4":{"title":"Nodes","type":"data","subType":"dql-builder-metrics","query":"timeseries sum(redis.node_metrics_up)\n| fieldsAdd value.A = arrayLast(`sum(redis.node_metrics_up)`)","visualization":"singleValue","visualizationSettings":{"thresholds":[],"autoSelectVisualization":false,"table":{"columnTypeOverrides":[{"fields":["sum(redis.node_metrics_up)"],"value":"sparkline","id":1756315281343}]},"singleValue":{"label":"Nodes","trend":{"isVisible":false},"sparklineSettings":{"isVisible":false},"showLabel":false},"unitsOverrides":[{"identifier":"value.A","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1756412189624}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.node_metrics_up","aggregation":"sum"},"convertToValue":"Last"}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"6":{"title":"Soonest Node Cert Expiration Per Cluster","type":"data","query":"timeseries min(redis.node_cert_expires_in_seconds), by: { cluster }\n| fieldsAdd expiry_seconds = arrayLast(`min(redis.node_cert_expires_in_seconds)`)\n| fieldsAdd `Expires in` = duration(expiry_seconds, \"s\")\n| fieldsRemove expiry_seconds\n\n\n\n","visualization":"table","visualizationSettings":{"thresholds":[],"autoSelectVisualization":false,"table":{"columnTypeOverrides":[{"fields":["min(redis.node_cert_expires_in_seconds)"],"value":"sparkline","id":1756412316439}],"columnOrder":["[\"timeframe\",\"start\"]","[\"timeframe\",\"end\"]","[\"interval\"]","[\"cluster\"]","[\"min(redis.node_cert_expires_in_seconds)\"]","[\"Expires in\"]"],"hiddenColumns":[["timeframe","start"],["timeframe","end"],["interval"],["min(redis.node_cert_expires_in_seconds)"]]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"8":{"title":"Cluster Shard Count","type":"data","query":"timeseries redis_count=sum(redis.redis_server_up), num_allowed_shards =max(redis.license_shards_limit)\n, by:{cluster}\n| filter in(cluster, $Cluster)\n| summarize takeLast(redis_count), by:{`allowed shards`=arrayLast(num_allowed_shards), `used shards` = arrayLast(redis_count), `remaining shards` = arrayLast(num_allowed_shards)-arrayLast(redis_count), cluster}\n\n","visualization":"table","visualizationSettings":{"thresholds":[{"id":1,"field":"","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-status-ideal-default, #2f6862)"},"comparator":"≥","label":""},{"id":1,"color":{"Default":"var(--dt-colors-charts-status-warning-default, #eea53c)"},"comparator":"≥","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-status-critical-default, #c62239)"},"comparator":"≥","label":""}]}],"autoSelectVisualization":false,"table":{"columnTypeOverrides":[],"columnOrder":["[\"allowed shards\"]","[\"used shards\"]","[\"cluster\"]","[\"takeLast(redis_count)\"]","[\"remaining shards\"]"],"hiddenColumns":[["takeLast(redis_count)"]],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"sortBy":[{"columnId":"[\"allowed_shards\"]","direction":"ascending"}]},"unitsOverrides":[{"identifier":"allowed shards","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1756412346329},{"identifier":"used shards","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1756412352068},{"identifier":"remaining shards","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1756412438445}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"9":{"title":"Memory Usage","type":"data","subType":"dql-builder-metrics","query":"timeseries { sum(redis.redis_server_used_memory), value.A = avg(redis.redis_server_used_memory, scalar: true) }, by: { cluster }","visualization":"lineChart","visualizationSettings":{"thresholds":[],"autoSelectVisualization":true,"table":{"columnTypeOverrides":[{"fields":["sum(redis.redis_server_used_memory)"],"value":"sparkline","id":1756326270382}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.redis_server_used_memory","aggregation":"sum"},"by":["cluster"]}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"10":{"title":"Overall Latency","type":"data","subType":"dql-builder-metrics","query":"timeseries sum(redis.endpoint_read_requests_latency_histogram_sum.count), by: { cluster }, filter: { matchesValue(cluster, { $Cluster }) }\n| join [\n    timeseries sum(redis.endpoint_write_requests_latency_histogram_sum.count),\n    by: { cluster },\n    filter: { matchesValue(cluster, { $Cluster }) }\n  ], on: { cluster }, fields: { `sum(redis.endpoint_write_requests_latency_histogram_sum.count)` }\n| join [\n    timeseries sum(redis.endpoint_other_requests_latency_histogram_sum.count),\n    by: { cluster },\n    filter: { matchesValue(cluster, { $Cluster }) }\n  ], on: { cluster }, fields: { `sum(redis.endpoint_other_requests_latency_histogram_sum.count)` }\n| join [\n    timeseries sum(redis.endpoint_read_requests_latency_histogram_count),\n    by: { cluster },\n    filter: { matchesValue(cluster, { $Cluster }) }\n  ], on: { cluster }, fields: { `sum(redis.endpoint_read_requests_latency_histogram_count)` }\n| join [\n    timeseries sum(redis.endpoint_write_requests_latency_histogram_count),\n    by: { cluster },\n    filter: { matchesValue(cluster, { $Cluster }) }\n  ], on: { cluster }, fields: { `sum(redis.endpoint_write_requests_latency_histogram_count)` }\n| join [\n    timeseries sum(redis.endpoint_other_requests_latency_histogram_count),\n    by: { cluster },\n    filter: { matchesValue(cluster, { $Cluster }) }\n  ], on: { cluster }, fields: { `sum(redis.endpoint_other_requests_latency_histogram_count)` }\n| fieldsAdd G = (`sum(redis.endpoint_read_requests_latency_histogram_sum.count)`[]+`sum(redis.endpoint_write_requests_latency_histogram_sum.count)`[]+`sum(redis.endpoint_other_requests_latency_histogram_sum.count)`[])/(`sum(redis.endpoint_read_requests_latency_histogram_count)`[]+`sum(redis.endpoint_write_requests_latency_histogram_count)`[]+`sum(redis.endpoint_other_requests_latency_histogram_count)`[])/1000\n| fieldsRemove `sum(redis.endpoint_read_requests_latency_histogram_sum.count)`\n| fieldsRemove `sum(redis.endpoint_write_requests_latency_histogram_sum.count)`\n| fieldsRemove `sum(redis.endpoint_other_requests_latency_histogram_sum.count)`\n| fieldsRemove `sum(redis.endpoint_read_requests_latency_histogram_count)`\n| fieldsRemove `sum(redis.endpoint_write_requests_latency_histogram_count)`\n| fieldsRemove `sum(redis.endpoint_other_requests_latency_histogram_count)`","visualization":"lineChart","visualizationSettings":{"thresholds":[],"autoSelectVisualization":true,"table":{"columnTypeOverrides":[]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":false,"datatype":"metrics","metric":{"key":"redis.endpoint_read_requests_latency_histogram_sum.count","aggregation":"sum"},"by":["cluster"],"filter":"cluster in ($Cluster) "},{"id":"B","isEnabled":false,"datatype":"metrics","metric":{"key":"redis.endpoint_write_requests_latency_histogram_sum.count","aggregation":"sum"},"by":["cluster"],"filter":"cluster in ($Cluster) "},{"id":"C","isEnabled":false,"datatype":"metrics","metric":{"key":"redis.endpoint_other_requests_latency_histogram_sum.count","aggregation":"sum"},"by":["cluster"],"filter":"cluster in ($Cluster) "},{"id":"D","isEnabled":false,"datatype":"metrics","metric":{"key":"redis.endpoint_read_requests_latency_histogram_count","aggregation":"sum"},"by":["cluster"],"filter":"cluster in ($Cluster) "},{"id":"E","isEnabled":false,"datatype":"metrics","metric":{"key":"redis.endpoint_write_requests_latency_histogram_count","aggregation":"sum"},"by":["cluster"],"filter":"cluster in ($Cluster) "},{"id":"F","isEnabled":false,"datatype":"metrics","metric":{"key":"redis.endpoint_other_requests_latency_histogram_count","aggregation":"sum"},"by":["cluster"],"filter":"cluster in ($Cluster) "},{"id":"G","isEnabled":true,"datatype":"expression","expression":"(A+B+C)/(D+E+F)/1000"}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"11":{"title":"Read Latency","type":"data","subType":"dql-builder-metrics","query":"timeseries sum(redis.endpoint_read_requests_latency_histogram_sum.count), by: { cluster }, filter: { matchesValue(cluster, { $Cluster }) }\n| join [\n    timeseries sum(redis.endpoint_read_requests_latency_histogram_count),\n    by: { cluster },\n    filter: { matchesValue(cluster, { $Cluster }) }\n  ], on: { cluster }, fields: { `sum(redis.endpoint_read_requests_latency_histogram_count)` }\n| fieldsAdd C = (`sum(redis.endpoint_read_requests_latency_histogram_sum.count)`[]/`sum(redis.endpoint_read_requests_latency_histogram_count)`[])/1000\n| fieldsRemove `sum(redis.endpoint_read_requests_latency_histogram_sum.count)`\n| fieldsRemove `sum(redis.endpoint_read_requests_latency_histogram_count)`","visualization":"lineChart","visualizationSettings":{"thresholds":[],"autoSelectVisualization":true,"table":{"columnTypeOverrides":[]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":false,"datatype":"metrics","metric":{"key":"redis.endpoint_read_requests_latency_histogram_sum.count","aggregation":"sum"},"by":["cluster"],"filter":"cluster in ($Cluster) "},{"id":"B","isEnabled":false,"datatype":"metrics","metric":{"key":"redis.endpoint_read_requests_latency_histogram_count","aggregation":"sum"},"by":["cluster"],"filter":"cluster in ($Cluster) "},{"id":"C","isEnabled":true,"datatype":"expression","expression":"(A/B)/1000"}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"12":{"title":"Write Latency","type":"data","subType":"dql-builder-metrics","query":"timeseries sum(redis.endpoint_write_requests_latency_histogram_sum.count), by: { cluster }, filter: { matchesValue(cluster, { $Cluster }) }\n| join [\n    timeseries sum(redis.endpoint_write_requests_latency_histogram_count),\n    by: { cluster },\n    filter: { matchesValue(cluster, { $Cluster }) }\n  ], on: { cluster }, fields: { `sum(redis.endpoint_write_requests_latency_histogram_count)` }\n| fieldsAdd C = `sum(redis.endpoint_write_requests_latency_histogram_sum.count)`[]/`sum(redis.endpoint_write_requests_latency_histogram_count)`[]/1000\n| fieldsRemove `sum(redis.endpoint_write_requests_latency_histogram_sum.count)`\n| fieldsRemove `sum(redis.endpoint_write_requests_latency_histogram_count)`","visualization":"lineChart","visualizationSettings":{"thresholds":[],"autoSelectVisualization":true,"table":{"columnTypeOverrides":[]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":false,"datatype":"metrics","metric":{"key":"redis.endpoint_write_requests_latency_histogram_sum.count","aggregation":"sum"},"by":["cluster"],"filter":"cluster in ($Cluster) "},{"id":"B","isEnabled":false,"datatype":"metrics","metric":{"key":"redis.endpoint_write_requests_latency_histogram_count","aggregation":"sum"},"by":["cluster"],"filter":"cluster in ($Cluster) "},{"id":"C","isEnabled":true,"datatype":"expression","expression":"A/B/1000"}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"13":{"title":"Other Latency","type":"data","subType":"dql-builder-metrics","query":"timeseries sum(redis.endpoint_other_requests_latency_histogram_sum.count), by: { cluster }, filter: { matchesValue(cluster, { $Cluster }) }\n| join [\n    timeseries sum(redis.endpoint_other_requests_latency_histogram_count),\n    by: { cluster },\n    filter: { matchesValue(cluster, { $Cluster }) }\n  ], on: { cluster }, fields: { `sum(redis.endpoint_other_requests_latency_histogram_count)` }\n| fieldsAdd C = `sum(redis.endpoint_other_requests_latency_histogram_sum.count)`[]/`sum(redis.endpoint_other_requests_latency_histogram_count)`[]/1000\n| fieldsRemove `sum(redis.endpoint_other_requests_latency_histogram_sum.count)`\n| fieldsRemove `sum(redis.endpoint_other_requests_latency_histogram_count)`","visualization":"lineChart","visualizationSettings":{"thresholds":[],"autoSelectVisualization":true,"table":{"columnTypeOverrides":[{"fields":["sum(redis.endpoint_other_requests_latency_histogram_sum.count)","sum(redis.endpoint_other_requests_latency_histogram_count)","C"],"value":"sparkline","id":1756327934055}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":false,"datatype":"metrics","metric":{"key":"redis.endpoint_other_requests_latency_histogram_sum.count","aggregation":"sum"},"by":["cluster"],"filter":"cluster in ($Cluster) "},{"id":"B","isEnabled":false,"datatype":"metrics","metric":{"key":"redis.endpoint_other_requests_latency_histogram_count","aggregation":"sum"},"by":["cluster"],"filter":"cluster in ($Cluster) "},{"id":"C","isEnabled":true,"datatype":"expression","expression":"A/B/1000"}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"14":{"title":"Key Count","type":"data","subType":"dql-builder-metrics","query":"timeseries { avg(redis.redis_server_db0_keys), value.A = avg(redis.redis_server_db0_keys, scalar: true) }, by: { cluster }, filter: { matchesValue(cluster, { $Cluster }) }","visualization":"lineChart","visualizationSettings":{"thresholds":[],"autoSelectVisualization":true,"table":{"columnTypeOverrides":[{"fields":["avg(redis.redis_server_db0_keys)"],"value":"sparkline","id":1756327982774}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.redis_server_db0_keys","aggregation":"avg"},"by":["cluster"],"filter":"cluster in ($Cluster) "}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"15":{"title":"Ops / sec","type":"data","subType":"dql-builder-metrics","query":"timeseries { sum(redis.endpoint_other_requests, rate: 1s), value.A = avg(redis.endpoint_other_requests, rate: 1s, scalar: true), sum(redis.endpoint_read_requests, rate: 1s), value.B = avg(redis.endpoint_read_requests, rate: 1s, scalar: true), sum(redis.endpoint_write_requests, rate: 1s), value.C = avg(redis.endpoint_write_requests, rate: 1s, scalar: true) }, union: TRUE, by: { cluster }, filter: { matchesValue(cluster, { $Cluster }) }","visualization":"lineChart","visualizationSettings":{"thresholds":[],"autoSelectVisualization":true,"table":{"columnTypeOverrides":[{"fields":["sum(redis.endpoint_other_requests, rate:1s)"],"value":"sparkline","id":1756328093830}]},"chartSettings":{"hiddenLegendFields":["value.A","value.B","value.C"]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.endpoint_other_requests","aggregation":"sum"},"by":["cluster"],"rate":"1s","filter":"cluster in ($Cluster) "},{"id":"B","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.endpoint_read_requests","aggregation":"sum"},"by":["cluster"],"rate":"1s","filter":"cluster in ($Cluster) "},{"id":"C","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.endpoint_write_requests","aggregation":"sum"},"by":["cluster"],"rate":"1s","filter":"cluster in ($Cluster) "}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"16":{"title":"Expired Keys","type":"data","subType":"dql-builder-metrics","query":"timeseries { avg(redis.redis_server_expired_keys), value.A = avg(redis.redis_server_expired_keys, scalar: true) }, by: { cluster }, filter: { matchesValue(cluster, { $Cluster }) }","visualization":"lineChart","visualizationSettings":{"thresholds":[],"autoSelectVisualization":true,"table":{"columnTypeOverrides":[{"fields":["avg(redis.redis_server_expired_keys)"],"value":"sparkline","id":1756328246719}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.redis_server_expired_keys","aggregation":"avg"},"by":["cluster"],"filter":"cluster in($Cluster)"}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}}},"layouts":{"0":{"x":0,"y":0,"w":8,"h":6},"1":{"x":12,"y":0,"w":4,"h":3},"2":{"x":8,"y":0,"w":4,"h":3},"3":{"x":8,"y":3,"w":4,"h":3},"4":{"x":12,"y":3,"w":4,"h":3},"6":{"x":16,"y":0,"w":8,"h":6},"8":{"x":0,"y":6,"w":8,"h":6},"9":{"x":8,"y":6,"w":8,"h":6},"10":{"x":16,"y":6,"w":8,"h":6},"11":{"x":8,"y":12,"w":8,"h":6},"12":{"x":0,"y":12,"w":8,"h":6},"13":{"x":16,"y":12,"w":8,"h":6},"14":{"x":0,"y":18,"w":8,"h":6},"15":{"x":8,"y":18,"w":8,"h":6},"16":{"x":16,"y":18,"w":8,"h":6}},"importedWithCode":false,"settings":{}}