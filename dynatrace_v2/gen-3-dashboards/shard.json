{"version":19,"variables":[{"version":1,"key":"Cluster","type":"query","visible":true,"editable":true,"input":"timeseries any=avg(redis.db_config), by:{cluster}\n| fieldsKeep cluster\n| sort cluster\n","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"version":1,"key":"Database","type":"query","visible":true,"editable":true,"input":"timeseries any=avg(redis.db_config), by:{db, cluster}\n| filter in(cluster,$Cluster)\n| summarize count(), by:{db}\n| fieldsKeep db\n| sort db","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"version":1,"key":"Node","type":"query","visible":true,"editable":true,"input":"timeseries any=avg(redis.node_metrics_up), by:{cluster, node}\n| filter in(cluster,$Cluster)\n| summarize count(), by:{node}\n| fieldsKeep node\n| sort node","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"version":1,"key":"Shard","type":"query","visible":true,"editable":true,"input":"timeseries any=avg(redis.redis_server_up), by:{cluster, db, redis, node}\n| filter in(cluster,$Cluster) AND in (db, $Database) AND in(node,$Node)\n| summarize count(), by:{redis}\n| fieldsKeep redis\n| sort redis","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]}],"tiles":{"1":{"title":"Shard Status","type":"data","query":"timeseries { avg(redis.redis_server_up), status = avg(redis.redis_server_up, scalar: true) }, by: { cluster, node, db, redis }","visualization":"table","visualizationSettings":{"thresholds":[{"id":1,"field":"status","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-status-ideal-default, #2f6862)"},"comparator":"≥","label":"","value":1},{"id":1,"color":{"Default":"var(--dt-colors-charts-status-warning-default, #eea53c)"},"comparator":"≥","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-status-critical-default, #c62239)"},"comparator":"<","label":"","value":1}]}],"autoSelectVisualization":false,"table":{"columnTypeOverrides":[{"fields":["avg(redis.redis_server_up)"],"value":"sparkline","id":1756383925014}],"columnOrder":["[\"timeframe\",\"start\"]","[\"timeframe\",\"end\"]","[\"interval\"]","[\"cluster\"]","[\"node\"]","[\"db\"]","[\"redis\"]","[\"avg(redis.redis_server_up)\"]","[\"status\"]"],"hiddenColumns":[["value.A"],["timeframe","start"],["timeframe","end"],["interval"],["avg(redis.redis_server_up)"]],"sortBy":[{"columnId":"[\"cluster\"]","direction":"ascending"}]},"unitsOverrides":[{"identifier":"status","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1756384288962}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"2":{"title":"CPU Utilization","type":"data","subType":"dql-builder-metrics","query":"timeseries { sum(redis.namedprocess_namegroup_cpu_seconds_total, rate: 1s), value.A = avg(redis.namedprocess_namegroup_cpu_seconds_total, rate: 1s, scalar: true) }, filter: { matchesValue(cluster, $Cluster) AND matchesValue(db, $Database) AND matchesValue(node, $Node) AND matchesValue(redis, $Shard) AND matchesValue(mode, { \"system\", \"user\" }) }","visualization":"singleValue","visualizationSettings":{"autoSelectVisualization":false,"thresholds":[],"table":{"columnTypeOverrides":[{"fields":["sum(redis.namedprocess_namegroup_cpu_seconds_total, rate:1s)"],"value":"sparkline","id":1756384440535}]},"singleValue":{"showLabel":false}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.namedprocess_namegroup_cpu_seconds_total","aggregation":"sum"},"rate":"1s","filter":"cluster=$Cluster db=$Database node=$Node redis=$Shard mode in (system,user)"}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"3":{"title":"Memory","type":"data","subType":"dql-builder-metrics","query":"timeseries { sum(redis.redis_server_used_memory), value.A = avg(redis.redis_server_used_memory, scalar: true) }, filter: { matchesValue(cluster, $Cluster) AND matchesValue(db, $Database) AND matchesValue(node, $Node) AND matchesValue(redis, $Shard) }","visualization":"singleValue","visualizationSettings":{"autoSelectVisualization":false,"thresholds":[],"table":{"columnTypeOverrides":[{"fields":["sum(redis.redis_server_used_memory)"],"value":"sparkline","id":1756384742492}]},"singleValue":{"showLabel":false}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.redis_server_used_memory","aggregation":"sum"},"filter":"cluster=$Cluster db=$Database node=$Node redis=$Shard"}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"4":{"title":"Key Count","type":"data","subType":"dql-builder-metrics","query":"timeseries { sum(redis.redis_server_db0_keys), value.A = avg(redis.redis_server_db0_keys, scalar: true) }, filter: { matchesValue(cluster, $Cluster) AND matchesValue(db, $Database) AND matchesValue(node, $Node) AND matchesValue(redis, $Shard) AND matchesValue(role, \"master\") }","visualization":"singleValue","visualizationSettings":{"autoSelectVisualization":false,"thresholds":[],"table":{"columnTypeOverrides":[{"fields":["sum(redis.redis_server_db0_keys)"],"value":"sparkline","id":1756384857157}]},"singleValue":{"showLabel":false}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.redis_server_db0_keys","aggregation":"sum"},"filter":"cluster=$Cluster db=$Database node=$Node redis=$Shard role =\"master\""}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"6":{"title":"Conections","type":"data","query":"timeseries sum(redis.endpoint_client_connections), filter: { matchesValue(cluster, $Cluster) AND matchesValue(db, $Database) AND matchesValue(node, $Node) }\n| join [\n    timeseries sum(redis.endpoint_client_disconnections),\n    filter: { matchesValue(cluster, $Cluster) AND matchesValue(db, $Database) AND matchesValue(node, $Node) }\n  ], on: { interval }, fields: { `sum(redis.endpoint_client_disconnections)` }\n| fieldsAdd C = `sum(redis.endpoint_client_connections)`[]-`sum(redis.endpoint_client_disconnections)`[]\n| fieldsAdd current_connections = arrayLast(C)\n| fieldsRemove `sum(redis.endpoint_client_connections)`\n| fieldsRemove `sum(redis.endpoint_client_disconnections)`","visualization":"singleValue","visualizationSettings":{"thresholds":[],"autoSelectVisualization":false,"table":{"columnTypeOverrides":[{"fields":["C"],"value":"sparkline","id":1756385035970}]},"singleValue":{"showLabel":false,"recordField":"current_connections"},"unitsOverrides":[{"identifier":"current_connections","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1756385190501}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"8":{"title":"","type":"data","query":"timeseries sum(redis.redis_server_allocator_allocated), filter: { matchesValue(cluster, $Cluster) AND matchesValue(db, $Database) AND matchesValue(node, $Node) AND matchesValue(redis, $Shard) }\n| join [\n    timeseries sum(redis.redis_server_maxmemory),\n    filter: { matchesValue(cluster, $Cluster) AND matchesValue(db, $Database) AND matchesValue(node, $Node) AND matchesValue(redis, $Shard) }\n  ], on: { interval }, fields: { `sum(redis.redis_server_maxmemory)` }\n| fieldsAdd C = (`sum(redis.redis_server_allocator_allocated)`[]/`sum(redis.redis_server_maxmemory)`[]) * 100\n| fieldsAdd Memory_Utilization= arrayLast(C)\n| fieldsRemove `sum(redis.redis_server_allocator_allocated)`\n| fieldsRemove `sum(redis.redis_server_maxmemory)`","visualization":"singleValue","visualizationSettings":{"autoSelectVisualization":false,"thresholds":[],"table":{"columnTypeOverrides":[{"fields":["C"],"value":"sparkline","id":1756385443044}]},"unitsOverrides":[{"identifier":"Memory_Utilization","unitCategory":"percentage","baseUnit":"percent","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1756385575777}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"9":{"title":"Resident Memory","type":"data","subType":"dql-builder-metrics","query":"timeseries { avg(redis.redis_server_allocator_resident), value.A = avg(redis.redis_server_allocator_resident, scalar: true) }, by: { cluster, node, redis }, filter: { matchesValue(cluster, $Cluster) AND matchesValue(db, $Database) AND matchesValue(redis, $Shard) AND matchesValue(node, $Node) }","visualization":"lineChart","visualizationSettings":{"thresholds":[],"autoSelectVisualization":true,"table":{"columnTypeOverrides":[{"fields":["avg(redis.redis_server_allocator_resident)"],"value":"sparkline","id":1756385685357}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.redis_server_allocator_resident","aggregation":"avg"},"by":["cluster","node","redis"],"filter":"cluster =$Cluster db=$Database redis=$Shard node=$Node"}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"10":{"title":"Shard Memory","type":"data","subType":"dql-builder-metrics","query":"timeseries { avg(redis.namedprocess_namegroup_memory_bytes), value.A = avg(redis.namedprocess_namegroup_memory_bytes, scalar: true) }, by: { db, node, cluster, redis }, filter: { matchesValue(cluster, $Cluster) AND matchesValue(db, $Database) AND matchesValue(redis, $Shard) AND matchesValue(node, $Node) }","visualization":"lineChart","visualizationSettings":{"thresholds":[],"autoSelectVisualization":true,"table":{"columnTypeOverrides":[{"fields":["avg(redis.namedprocess_namegroup_memory_bytes)"],"value":"sparkline","id":1756385904009}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.namedprocess_namegroup_memory_bytes","aggregation":"avg"},"by":["db","node","cluster","redis"],"filter":"cluster =$Cluster db=$Database redis=$Shard node=$Node"}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"11":{"title":"Fragmentation","type":"data","subType":"dql-builder-metrics","query":"timeseries { avg(redis.redis_server_mem_fragmentation_ratio), value.A = avg(redis.redis_server_mem_fragmentation_ratio, scalar: true) }, by: { cluster, db, redis, node }, filter: { matchesValue(cluster, $Cluster) AND matchesValue(db, $Database) AND matchesValue(node, $Node) AND matchesValue(redis, $Shard) }","visualization":"lineChart","visualizationSettings":{"thresholds":[],"autoSelectVisualization":true,"table":{"columnTypeOverrides":[{"fields":["avg(redis.redis_server_mem_fragmentation_ratio)"],"value":"sparkline","id":1756386177018}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.redis_server_mem_fragmentation_ratio","aggregation":"avg"},"by":["cluster","db","redis","node"],"filter":"cluster=$Cluster db=$Database node=$Node redis=$Shard"}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"12":{"title":"Process CPU","type":"data","subType":"dql-builder-metrics","query":"timeseries { sum(redis.namedprocess_namegroup_cpu_seconds_total), value.A = avg(redis.namedprocess_namegroup_cpu_seconds_total, scalar: true) }, by: { redis, node, cluster, db }, filter: { matchesValue(cluster, $Cluster) AND matchesValue(db, $Database) AND matchesValue(node, $Node) AND matchesValue(redis, $Shard) AND matchesValue(mode, { \"system\", \"user\" }) }","visualization":"lineChart","visualizationSettings":{"thresholds":[],"autoSelectVisualization":true,"table":{"columnTypeOverrides":[{"fields":["sum(redis.namedprocess_namegroup_cpu_seconds_total)"],"value":"sparkline","id":1756386937510}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.namedprocess_namegroup_cpu_seconds_total","aggregation":"sum"},"by":["redis","node","cluster","db"],"filter":"cluster=$Cluster db=$Database node=$Node redis=$Shard mode in(system,user)"}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"13":{"title":"Main Thread CPU","type":"data","subType":"dql-builder-metrics","query":"timeseries { avg(redis.namedprocess_namegroup_thread_cpu_seconds_total), value.A = avg(redis.namedprocess_namegroup_thread_cpu_seconds_total, scalar: true) }, by: { mode, redis, db, node, cluster }, filter: { matchesValue(mode, { \"system\", \"user\" }) AND matchesValue(cluster, $Cluster) AND matchesValue(node, $Node) AND matchesValue(threadname, \"*redis-server*\") AND matchesValue(redis, $Shard) }","visualization":"lineChart","visualizationSettings":{"thresholds":[],"autoSelectVisualization":true,"table":{"columnTypeOverrides":[{"fields":["avg(redis.namedprocess_namegroup_thread_cpu_seconds_total)"],"value":"sparkline","id":1756387130720}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.namedprocess_namegroup_thread_cpu_seconds_total","aggregation":"avg"},"by":["mode","redis","db","node","cluster"],"filter":"mode in(system, user) cluster=$Cluster node=$Node threadname = *redis-server* redis=$Shard"}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"14":{"title":"Connected Clients","type":"data","subType":"dql-builder-metrics","query":"timeseries { sum(redis.redis_server_connected_clients), value.A = avg(redis.redis_server_connected_clients, scalar: true) }, by: { redis, cluster, db, node }, filter: { matchesValue(cluster, $Cluster) AND matchesValue(db, $Database) AND matchesValue(redis, $Shard) AND matchesValue(node, $Node) }","visualization":"lineChart","visualizationSettings":{"thresholds":[],"autoSelectVisualization":true,"table":{"columnTypeOverrides":[]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.redis_server_connected_clients","aggregation":"sum"},"by":["redis","cluster","db","node"],"filter":"cluster =$Cluster db=$Database redis=$Shard node=$Node"}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"15":{"title":"Blocked Clients","type":"data","subType":"dql-builder-metrics","query":"timeseries { sum(redis.redis_server_blocked_clients), value.A = avg(redis.redis_server_blocked_clients, scalar: true) }, by: { redis, node, db, cluster }, filter: { matchesValue(cluster, $Cluster) AND matchesValue(db, $Database) AND matchesValue(redis, $Shard) AND matchesValue(node, $Node) }","visualization":"lineChart","visualizationSettings":{"thresholds":[],"autoSelectVisualization":true,"table":{"columnTypeOverrides":[{"fields":["sum(redis.redis_server_blocked_clients)"],"value":"sparkline","id":1756394309641}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.redis_server_blocked_clients","aggregation":"sum"},"by":["redis","node","db","cluster"],"filter":"cluster =$Cluster db=$Database redis=$Shard node=$Node"}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"16":{"title":"Key Count","type":"data","subType":"dql-builder-metrics","query":"timeseries { avg(redis.redis_server_db0_keys), value.A = avg(redis.redis_server_db0_keys, scalar: true) }, by: { redis, node, db, cluster }, filter: { matchesValue(cluster, $Cluster) AND matchesValue(db, $Database) AND matchesValue(redis, $Shard) AND matchesValue(node, $Node) }","visualization":"lineChart","visualizationSettings":{"thresholds":[],"autoSelectVisualization":true,"table":{"columnTypeOverrides":[{"fields":["avg(redis.redis_server_db0_keys)"],"value":"sparkline","id":1756394436995}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.redis_server_db0_keys","aggregation":"avg"},"by":["redis","node","db","cluster"],"filter":"cluster =$Cluster db=$Database redis=$Shard node=$Node"}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"17":{"title":"Evicted Keys","type":"data","subType":"dql-builder-metrics","query":"timeseries { avg(redis.redis_server_evicted_keys), value.A = avg(redis.redis_server_evicted_keys, scalar: true) }, by: { redis, node, db, cluster }, filter: { matchesValue(cluster, $Cluster) AND matchesValue(db, $Database) AND matchesValue(redis, $Shard) AND matchesValue(node, $Node) }","visualization":"lineChart","visualizationSettings":{"thresholds":[],"autoSelectVisualization":true,"table":{"columnTypeOverrides":[{"fields":["avg(redis.redis_server_evicted_keys)"],"value":"sparkline","id":1756394513275}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.redis_server_evicted_keys","aggregation":"avg"},"by":["redis","node","db","cluster"],"filter":"cluster =$Cluster db=$Database redis=$Shard node=$Node"}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"18":{"title":"Expired Keys","type":"data","subType":"dql-builder-metrics","query":"timeseries { avg(redis.redis_server_expired_keys), value.A = avg(redis.redis_server_expired_keys, scalar: true) }, by: { redis, node, db, cluster }, filter: { matchesValue(cluster, $Cluster) AND matchesValue(db, $Database) AND matchesValue(redis, $Shard) AND matchesValue(node, $Node) }","visualization":"lineChart","visualizationSettings":{"thresholds":[],"autoSelectVisualization":true,"table":{"columnTypeOverrides":[]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.redis_server_expired_keys","aggregation":"avg"},"by":["redis","node","db","cluster"],"filter":"cluster =$Cluster db=$Database redis=$Shard node=$Node"}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"19":{"title":"Total Fragmentation","type":"data","subType":"dql-builder-metrics","query":"timeseries { avg(redis.redis_server_mem_fragmentation_ratio), value.A = avg(redis.redis_server_mem_fragmentation_ratio, scalar: true) }, by: { redis, node, db, cluster }, filter: { matchesValue(cluster, $Cluster) AND matchesValue(db, $Database) AND matchesValue(redis, $Shard) AND matchesValue(node, $Node) }","visualization":"lineChart","visualizationSettings":{"thresholds":[],"autoSelectVisualization":true},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"queryConfig":{"version":"15.4.0","subQueries":[{"id":"A","isEnabled":true,"datatype":"metrics","metric":{"key":"redis.redis_server_mem_fragmentation_ratio","aggregation":"avg"},"by":["redis","node","db","cluster"],"filter":"cluster =$Cluster db=$Database redis=$Shard node=$Node"}]},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"21":{"title":"Shard Fragmentation (#)","type":"data","query":"timeseries server_allocator_active=avg(redis.redis_server_allocator_active), server_allocator_allocated=avg(redis.redis_server_allocator_allocated), by: { redis, node, db, cluster }, filter: { matchesValue(cluster, $Cluster) AND matchesValue(db, $Database) AND matchesValue(redis, $Shard) AND matchesValue(node, $Node) }\n| fieldsAdd C = (server_allocator_active[]/server_allocator_allocated[]) * server_allocator_allocated[]\n| fieldsRemove server_allocator_active\n| fieldsRemove server_allocator_allocated","visualization":"lineChart","visualizationSettings":{"thresholds":[],"autoSelectVisualization":true,"table":{"columnTypeOverrides":[{"fields":["C"],"value":"sparkline","id":1756406511686}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"22":{"title":"Shard Fragmentation (%)","type":"data","query":"timeseries server_allocator_active=avg(redis.redis_server_allocator_active), server_allocator_allocated=avg(redis.redis_server_allocator_allocated), by: { redis, node, db, cluster }, filter: { matchesValue(cluster, $Cluster) AND matchesValue(db, $Database) AND matchesValue(redis, $Shard) AND matchesValue(node, $Node) }\n| fieldsAdd C = server_allocator_active[]/server_allocator_allocated[]\n| fieldsRemove server_allocator_active\n| fieldsRemove server_allocator_allocated","visualization":"lineChart","visualizationSettings":{"thresholds":[],"autoSelectVisualization":true,"table":{"columnTypeOverrides":[{"fields":["C"],"value":"sparkline","id":1756406511686}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"23":{"type":"markdown","content":"# Summary"},"24":{"type":"markdown","content":"# Memory"},"25":{"type":"markdown","content":"# CPU"},"26":{"type":"markdown","content":"# Clients"},"27":{"type":"markdown","content":"# Keys"},"28":{"type":"markdown","content":"# Fragmentation"}},"layouts":{"1":{"x":0,"y":1,"w":8,"h":6},"2":{"x":8,"y":1,"w":4,"h":6},"3":{"x":12,"y":1,"w":4,"h":6},"4":{"x":16,"y":1,"w":4,"h":6},"6":{"x":20,"y":1,"w":4,"h":6},"8":{"x":0,"y":8,"w":6,"h":6},"9":{"x":6,"y":8,"w":6,"h":6},"10":{"x":12,"y":8,"w":6,"h":6},"11":{"x":18,"y":8,"w":6,"h":6},"12":{"x":0,"y":15,"w":8,"h":6},"13":{"x":8,"y":15,"w":8,"h":6},"14":{"x":8,"y":22,"w":8,"h":6},"15":{"x":0,"y":22,"w":8,"h":6},"16":{"x":8,"y":29,"w":8,"h":6},"17":{"x":16,"y":22,"w":8,"h":6},"18":{"x":0,"y":29,"w":8,"h":6},"19":{"x":0,"y":36,"w":8,"h":6},"21":{"x":16,"y":36,"w":8,"h":6},"22":{"x":8,"y":36,"w":8,"h":6},"23":{"x":0,"y":0,"w":24,"h":1},"24":{"x":0,"y":7,"w":24,"h":1},"25":{"x":0,"y":14,"w":24,"h":1},"26":{"x":0,"y":21,"w":24,"h":1},"27":{"x":0,"y":28,"w":24,"h":1},"28":{"x":0,"y":35,"w":24,"h":1}},"importedWithCode":false,"settings":{}}