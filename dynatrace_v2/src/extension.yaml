name: custom:com.redis.enterprise.extension
version: 2.0.1
minDynatraceVersion: "1.305"
author:
  name: Redis

dashboards:
- path: "dashboards/overview-v2.json"
- path: "dashboards/node-v2.json"
- path: "dashboards/database-v2.json"
- path: "dashboards/shard-v2.json"
- path: "dashboards/active-active-v2.json"
- path: "dashboards/security-v2.json"

metrics:
  # ACTIVE-ACTIVE
  - key: redis.database_syncer_config
    metadata:
      displayName: Syncer Configuration
      description: Used as a placeholder for configuration labels
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-active"
  - key: redis.database_syncer_current_status
    metadata:
      displayName: Syncer Traffic Status
      description: 0 = in-sync, 1 = syncing, 2 = out of sync
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-active"
  - key: redis.database_syncer_dst_connectivity_state
    metadata:
      displayName: Syncer Destination Connectivity State
      description: Connection; 0 = disconnected, 1 = connected
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-active"
  - key: redis.database_syncer_dst_connectivity_state_ms
    metadata:
      displayName: Syncer Destination Connectivity Duration
      description: Length of time system is in the indicated state
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-active"
  - key: redis.database_syncer_dst_lag
    metadata:
      displayName: Syncer Destination Lag
      description: Lag in milliseconds between the syncer and the destination
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-active"
  - key: redis.database_syncer_dst_repl_offset
    metadata:
      displayName: Syncer Destination Replication Offset
      description: Offset of the last command acknowledged
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-active"
  - key: redis.database_syncer_flush_counter
    metadata:
      displayName: RSyncer Flush Counter
      description: Number of destination flushes
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-active"
  - key: redis.database_syncer_ingress_bytes
    metadata:
      displayName: Syncer Ingress Bytes
      description: Number of bytes read from source shard
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-active"
  - key: redis.database_syncer_ingress_bytes_decompressed
    metadata:
      displayName: Syncer Ingress Bytes (Decompressed)
      description: Number of bytes read from source shard (decompressed)
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-active"
  - key: redis.database_syncer_internal_state
    metadata:
      displayName: Syncer Internal State
      description: Internal state of the syncer
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-active"
  - key: redis.database_syncer_lag_ms
    metadata:
      displayName: Syncer Lag (ms)
      description: Lag time between the source and the destination for traffic in milliseconds
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-active"
  - key: redis.database_syncer_rdb_size
    metadata:
      displayName: Syncer RDB Size
      description: The source's RDB size in bytes to be transferred during the syncing phase
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-active"
  - key: redis.database_syncer_rdb_transferred
    metadata:
      displayName: Syncer RDB Transferred
      description: Number of bytes transferred from the source's RDB during the syncing phase
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-active"
  - key: redis.database_syncer_src_connectivity_state
    metadata:
      displayName: Syncer Source Connection State
      description: Connection; 0 = disconnected, 1 = connected
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-active"
  - key: redis.database_syncer_src_connectivity_state_ms
    metadata:
      displayName: Syncer Source Connection Duration
      description: Length of time system is in the indicated state
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-active"
  - key: redis.database_syncer_src_repl_offset
    metadata:
      displayName: Syncer Source Replication Offset
      description: Syncer last known source offset
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-active"
  - key: redis.database_syncer_state
    metadata:
      displayName: Syncer Internal State
      description: Internal state of the shard syncer
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-active"
  - key: redis.database_syncer_syncer_repl_offset
    metadata:
      displayName: Syncer Replication Offset
      description: Offset of the last command handled by the syncer
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-active"
  - key: redis.database_syncer_total_requests
    metadata:
      displayName: Syncer Total Requests
      description: Number of destination writes
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-active"
  - key: redis.database_syncer_total_responses
    metadata:
      displayName: Syncer Total Responses
      description: Number of destination writes acknowledged
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-active"

  # CLUSTER
  - key: redis.generation
    metadata:
      displayName: Cluster Generation
      description: Generation number of the specific cluster_wd
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-cluster"
  - key: redis.has_qourum
    metadata:
      displayName: Cluster Has Quorum
      description: Has_qourum = 1, No quorum = 0
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-cluster"
  - key: redis.is_primary
    metadata:
      displayName: Cluster Is Primary
      description: primary = 1, secondary = 0
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-cluster"
  - key: redis.license_shards_limit
    metadata:
      displayName: Cluster Shard Limit
      description: Total shard limit by the license by shard type (ram / flash)
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-cluster"
  - key: redis.total_live_nodes_count
    metadata:
      displayName: Live Node count
      description: Total number of live nodes
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-cluster"
  - key: redis.total_node_count
    metadata:
      displayName: Total Node count
      description: Total number of nodes
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-cluster"
  - key: redis.total_primary_selection_ended
    metadata:
      displayName: Primary Selection Ended
      description: Monotonic counter for each selection process that ended
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-cluster"
  - key: redis.license_shardstotal_primary_selections_limit
    metadata:
      displayName: Primary Selections Limit
      description: Monotonic counter for each selection process that started
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-cluster"

  # ENDPOINT
  - key: redis.endpoint_client_connections
    metadata:
      displayName: Client Connections
      description: Number of client connection establishment events
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_client_disconnections
    metadata:
      displayName: Client Disconnections
      description: Number of client disconnections initiated by the client
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_client_connection_expired
    metadata:
      displayName: Expired Client Connections
      description: Total number of client connections ttl that expired
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_client_establishment_failures
    metadata:
      displayName: Client Establishment Failures
      description: Number of client connections that failed to establish properly
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_client_expiration_refresh
    metadata:
      displayName: Client Expiration Refreshes
      description: Number of expiration time changes per client
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_client_tracking_off_requests
    metadata:
      displayName: Client TRACKING OFF Requests
      description: Total number of CLIENT TRACKING OFF requests
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_client_tracking_on_requests
    metadata:
      displayName: Client TRACKING ON Requests
      description: Total number of CLIENT TRACKING ON requests
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_dedicated_sconn_connections
    metadata:
      displayName: Dedicated Server Connections
      description: Number of dedicated server connections establishment events
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_dedicated_sconn_proxy_disconnections
    metadata:
      displayName: Dedicated Server Proxy Disconnections
      description: Number of dedicated server connections closed by proxy
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_dedicated_sconn_shard_disconnections
    metadata:
      displayName: Dedicated Server Shard Disconnections
      description: Number of dedicated server connections closed by shard
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_disconnected_cba_client
    metadata:
      displayName: CBA Client Disconnections
      description: Number of CBA clients disconnected
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_disconnected_entraid_client
    metadata:
      displayName: Entraid Client Disconnections
      description: Number of entraid clients disconnected
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_disconnected_ldap_client
    metadata:
      displayName: LDAP Client Disconnections
      description: Number of directory clients disconnected
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_disconnected_user_password_client
    metadata:
      displayName: Password Client Disconnections
      description: Number of directory user password clients disconnected
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_disposed_commands_after_client_caching
    metadata:
      displayName: Disposed Client Caching Commands
      description: Total number of client caching commands that were disposed due to misuse
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_egress
    metadata:
      displayName: Endpoint Egress
      description: Number of egress bytes
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_egress_pending
    metadata:
      displayName: Endpoint Egress (Pending)
      description: Number of send-pending bytes
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_egress_pending_discarded
    metadata:
      displayName: Syncer Total Responses
      description: Number of send-pending bytes that were discarded due to disconnection
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_failed_cba_authentication
    metadata:
      displayName: Syncer Total Responses
      description: Number of destination writes acknowledged
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_failed_entraid_authentication
    metadata:
      displayName: Syncer Total Responses
      description: Number of destination writes acknowledged
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_failed_ldap_authentication
    metadata:
      displayName: Syncer Total Responses
      description: Number of destination writes acknowledged
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_failed_user_password_authentication
    metadata:
      displayName: Syncer Total Responses
      description: Number of destination writes acknowledged
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_ingress
    metadata:
      displayName: Syncer Total Responses
      description: Number of destination writes acknowledged
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_internal_client_connections
    metadata:
      displayName: Syncer Total Responses
      description: Number of destination writes acknowledged
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_internal_client_disconnections
    metadata:
      displayName: Syncer Total Responses
      description: Number of destination writes acknowledged
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_internal_proxy_disconnections
    metadata:
      displayName: Syncer Total Responses
      description: Number of destination writes acknowledged
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_longest_pipeline_histogram
    metadata:
      displayName: Longest Client Pipelines
      description: Client connections with the longest pipeline lengths
      unit: histogram
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_other_requests
    metadata:
      displayName: Total Other Requests
      description: Number of other requests
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_other_requests_latency_histogram
    metadata:
      displayName: Other Requests Latency
      description: Latency (in Âµs) histogram of other commands
      unit: histogram
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_other_responses
    metadata:
      displayName: Total Other Responses
      description: Number of other responses
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_proxy_disconnections
    metadata:
      displayName: Total Proxy Disconnections
      description: Number of client disconnections initiated by the proxy
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_read_requests
    metadata:
      displayName: Total Read Requests
      description: Number of read requests
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_read_requests_latency_histogram
    metadata:
      displayName: Read Request Latency
      description: Latency (in us) histogram of read commands
      unit: histogram
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_read_responses
    metadata:
      displayName: Total Read Responses
      description: Number of read responses
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_sconn_application_handshake_failure
    metadata:
      displayName: Total Application Handshake Failures
      description: Number of server connections that failed during application handshake
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_sconn_establishment_failure
    metadata:
      displayName: Total Connection Establishment Failures
      description: Number of server connections that failed to establish properly
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_server_available_again
    metadata:
      displayName: Total Server Respawns
      description: Instances of a server returning to availability after becoming unavailable
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_server_became_unavailable
    metadata:
      displayName: Total Server Failures
      description: Instances of a server becoming unavailable
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_shared_sconn_connections
    metadata:
      displayName: Total Server Connections Established
      description: Number of shared server connections establishment events
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_shared_sconn_proxy_disconnections
    metadata:
      displayName: Total Server Proxy Connections Closed
      description: Number of shared server connections closed by proxy
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_shared_sconn_shard_disconnections
    metadata:
      displayName: Total Server Shard Connections Closed
      description: Number of shared server connections closed by shard
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_successful_cba_authentication
    metadata:
      displayName: Total CBA Clients Authenticated
      description: Number of clients that successfully authenticated with cba
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_successful_entraid_authentication
    metadata:
      displayName: Total Entraid Clients Authenticated
      description: Number of clients that successfully authenticated with entraid
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_successful_ldap_authentication
    metadata:
      displayName: Total LDAP Clients Authenticated
      description: Number of clients that successfully authenticated with ldap
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_successful_user_password_authentication
    metadata:
      displayName: Total Basic Clients Authenticated
      description: Number of clients that successfully authenticated with user&password
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_write_requests
    metadata:
      displayName: Total Write Requests
      description: Number of write requests
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_write_requests_latency_histogram
    metadata:
      displayName: Write Request Latency
      description: Latency (in us) histogram of write commands
      unit: histogram
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"
  - key: redis.endpoint_write_responses
    metadata:
      displayName: Total Write Responses
      description: Number of write responses
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-endpoint"

  # INFO
  - key: redis.node_dmi_info
    metadata:
      displayName: Node DMI Information
      description: Number of destination writes acknowledged
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-info"
  - key: redis.node_os_info
    metadata:
      displayName: Node Operating System Information
      description: A metric with a constant '1' value labeled by build_id, id, id_like, image_id, image_version, name, pretty_name, variant, variant_id, version, version_codename, version_id.
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-info"

  # NODE
  - key: redis.node_available_flash_bytes
    metadata:
      displayName: Available Flash (Bytes)
      description: Available flash in the node (bytes)
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-node"
  - key: redis.node_available_flash_no_overbooking_bytes
    metadata:
      displayName: Available Flask No Overbooking (bytes)
      description: Available flash in the node (bytes), without taking into account overbooking
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-node"
  - key: redis.node_available_memory_bytes
    metadata:
      displayName: Memory Available for Provisioning
      description: Amount of free memory in the node (bytes) that is available for database provisioning
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-node"
  - key: redis.node_available_memory_no_overbooking_bytes
    metadata:
      displayName: Available Memory No Overbooking
      description: Available RAM in the node (bytes) without taking into account overbooking
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-node"
  - key: redis.node_bigstore_free_bytes
    metadata:
      displayName: Free Bigstore Space (bytes)
      description: Sum of free space of back-end flash (used by flash database's [BigRedis]) on all cluster nodes (bytes); returned only when BigRedis is enabled
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-node"
  - key: redis.node_cert_expires_in_seconds
    metadata:
      displayName: Certificate Expiration Time
      description: Certificate expiration (in seconds) per given node; read more about certificates in Redis Enterprise and monitoring certificates
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-node"
  - key: redis.node_ephemeral_storage_avail_bytes
    metadata:
      displayName: Ephemeral Disk Space
      description: Disk space available to RLEC processes on configured ephemeral disk (bytes)
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-node"
  - key: redis.node_ephemeral_storage_free_bytes
    metadata:
      displayName: Free Bigstore Space (bytes)
      description: Free disk space on configured ephemeral disk (bytes)
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-node"
  - key: redis.node_memory_MemFree_bytes
    metadata:
      displayName: Node Free Memory
      description: Free memory in the node (bytes)
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-node"
  - key: redis.node_persistent_storage_avail_bytes
    metadata:
      displayName: Persistent Storage Available
      description: Disk space available to RLEC processes on configured persistent disk (bytes)
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-node"
  - key: redis.node_persistent_storage_free_bytes
    metadata:
      displayName: Persistent Storage Free
      description: Free disk space on configured persistent disk (bytes)
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-node"
  - key: redis.node_provisional_flash_bytes
    metadata:
      displayName: Provisional Flash Available
      description: Amount of flash available for new shards on this node, taking into account overbooking, max Redis servers, reserved flash, and provision and migration thresholds (bytes)
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-node"
  - key: redis.node_provisional_flash_no_overbooking_bytes
    metadata:
      displayName: Provisional Flash No Overbooking
      description: Amount of flash available for new shards on this node, without taking into account overbooking, max Redis servers, reserved flash, and provision and migration thresholds (bytes)
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-node"
  - key: redis.node_provisional_memory_bytes
    metadata:
      displayName: Provisional Memory
      description: Amount of RAM that is available for provisioning to databases out of the total RAM allocated for databases
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-node"
  - key: redis.node_provisional_memory_no_overbooking_bytes
    metadata:
      displayName: Provisional Memory No Overbooking
      description: Amount of RAM that is available for provisioning to databases out of the total RAM allocated for databases, without taking into account overbooking
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-node"
  - key: redis.node_metrics_up
    metadata:
      displayName: Node Up
      description: Node is part of the cluster and is connected
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-node"

  # NETWORK
  - key: redis.node_network_receive_bytes_total
    metadata:
      displayName: Total Bytes Received
      description: Network device statistic receive_bytes.
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-network"
  - key: redis.node_network_receive_compressed_total
    metadata:
      displayName: Total Bytes Received (Compressed)
      description: Network device statistic receive_compressed.
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-network"
  - key: redis.node_network_receive_drop_total
    metadata:
      displayName: Total Dropped Received
      description: Network device statistic receive_drop.
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-network"
  - key: redis.node_network_receive_errs_total
    metadata:
      displayName: Total Errors Received
      description: Network device statistic receive_errs.
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-network"
  - key: redis.node_network_receive_fifo_total
    metadata:
      displayName: Total FIFO Received
      description: Network device statistic receive_fifo.
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-network"
  - key: redis.node_network_receive_frame_total
    metadata:
      displayName: Total Frames Received
      description: Network device statistic receive_frame.
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-network"
  - key: redis.node_network_receive_multicast_total
    metadata:
      displayName: Total Multicast Received
      description: Network device statistic receive_multicast.
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-network"
  - key: redis.node_network_receive_nohandler_total
    metadata:
      displayName: Total Nohandler Received
      description: Network device statistic receive_nohandler.
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-network"
  - key: redis.node_network_receive_packets_total
    metadata:
      displayName: Total Packets Received
      description: Network device statistic receive_packets.
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-network"
  - key: redis.node_network_transmit_bytes_total
    metadata:
      displayName: Total Bytes Transmitted
      description: Network device statistic transmit_bytes.
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-network"
  - key: redis.node_network_transmit_carrier_total
    metadata:
      displayName: Total Carrier Transmitted
      description: Network device statistic transmit_carrier.
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-network"
  - key: redis.node_network_transmit_colls_total
    metadata:
      displayName: Total Packets Transmitted
      description: Network device statistic transmit_colls.
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-network"
  - key: redis.node_network_transmit_compressed_total
    metadata:
      displayName: Total Bytes Transmitted (Compressed)
      description: Network device statistic transmit_compressed.
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-network"
  - key: redis.node_network_transmit_drop_total
    metadata:
      displayName: Total Drops Transmitted
      description: Network device statistic transmit_drop.
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-network"
  - key: redis.node_network_transmit_errs_total
    metadata:
      displayName: Total Errors Transmitted
      description: Network device statistic transmit_errs.
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-network"
  - key: redis.node_network_transmit_fifo_total
    metadata:
      displayName: Total FIFO Transmitted
      description: Network device statistic transmit_fifo.
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-network"
  - key: redis.node_network_transmit_packets_total
    metadata:
      displayName: Total Packets Transmitted
      description: Network device statistic transmit_packets.
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-network"

# SHARD REPLICATION
  - key: redis.redis_server_crdt_stale_replica
    metadata:
      displayName: CRDT Stale Replica
      description: Replication stale replica
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_oom_latch
    metadata:
      displayName: CRDT OoM Latch
      description: Replication out-of-memory latch
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_clock
    metadata:
      displayName: CRDT Clock
      description: Replication clock
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_peer_id
    metadata:
      displayName: CRDT Peer Id
      description: Peer Id
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_peer_peer_state
    metadata:
      displayName: CRDT Peer-to-Peer State
      description: Peer-to-peer state
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_peer_offset
    metadata:
      displayName: CRDT Peer-to-Peer Offset
      description: Peer offset
      unit: MilliSecond
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_peer_lag
    metadata:
      displayName: CRDT Peer Lag
      description: Peer lag
      unit: MilliSecond
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_peer_dst_id
    metadata:
      displayName: CRDT Peer Dest Id
      description: Peer destination Id
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_backlog_size
    metadata:
      displayName: CRDT Backlog Size
      description: Replication backlog size
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_backlog_idx
    metadata:
      displayName: CRDT Backlog Index
      description: Current backlog index
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_backlog_histlen
    metadata:
      displayName: CRDT Backlog History Length
      description: Replication backlog history length
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_backlog_offset
    metadata:
      displayName: CRDT Backlog Offset
      description: Replication backlog offset
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_backlog_master_offset
    metadata:
      displayName: CRDT Backlog Master Offset
      description: Replication backlog master offset
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_backlog_refs
    metadata:
      displayName: CRDT Backlog Refs
      description: Replication backlog references
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_merge_reqs
    metadata:
      displayName: CRDT Merge Requests
      description: Replication merge requests
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_effect_reqs
    metadata:
      displayName: CRDT Effect Requests
      description: Replication effective requests
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_ovc_filtered_effect_reqs
    metadata:
      displayName: CRDT OVC Filtered Effect Requests
      description: OVC filtered effect requests
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_gc_pending
    metadata:
      displayName: CRDT Pending Garbage Collection
      description: Garbage collection pending
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_gc_attempted
    metadata:
      displayName: CRDT Attempted Garbage Collection
      description: Garbage collection attempted
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_gc_collected
    metadata:
      displayName: CRDT Collected Garbage
      description: Garbage collection elements collected
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_gc_skipped
    metadata:
      displayName: CRDT Skipped Garbage
      description: Garbage collection skipped
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_gc_elements_attempted
    metadata:
      displayName: CRDT Garbage Attempted Elements
      description: Not Available
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_gc_elements_collected
    metadata:
      displayName: CRDT Garbage Collected Elements
      description: Not Available
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_list_trimmed_vertices
    metadata:
      displayName: CRDT Trimmed Vertices
      description: Replication trimmed vertices
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_pending_list_trimmed_vertices
    metadata:
      displayName: CRDT Vertices Pending Trimming
      description: Pending trimmed vertice list
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_replica_config_version
    metadata:
      displayName: CRDT Replica Config Version
      description: Replica config version
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_replica_shards
    metadata:
      displayName: CRDT Replica Shards
      description: Replica shards
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_replica_slots
    metadata:
      displayName: CRDT Replica Slots
      description: Replication slots
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_replica_slot_coverage_by_any_ovc
    metadata:
      displayName: CRDT Replica Slot Coverage By Any OVC
      description: Slots covered by any OVC
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_replica_slot_coverage_by_only_ovc
    metadata:
      displayName: CRDT Replica Slot Coverage By Only OVC
      description: Slots covered by only OVC
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_replica_max_ops_lag
    metadata:
      displayName: CRDT Replica Max Operations Lag
      description: Replica maximum operations lag
      unit: MilliSecond
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_replica_min_ops_lag
    metadata:
      displayName: CRDT Replica Min Operations Lag
      description: Replica minimum operations lag
      unit: MilliSecond
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_raw_dbsize
    metadata:
      displayName: CRDT Raw DB Size
      description: Replication raw database size
      unit: Byte
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_key_headers
    metadata:
      displayName: CRDT Key Headers
      description: Replication key headers
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"
  - key: redis.redis_server_crdt_ts_key_headers
    metadata:
      displayName: CRDT Key Headers Timestamp
      description: Key timestamp headers
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-replication"

# SHARD
  - key: redis.redis_server_active_defrag_running
    metadata:
      displayName: Memory Defragmentation Aggressiveness
      description: Automatic memory defragmentation current aggressiveness (% cpu)
      unit: Percent
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_allocator_active
    metadata:
      displayName: Allocator Active Memory
      description: Total used memory, including external fragmentation
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_allocator_allocated
    metadata:
      displayName: Total Allocated Memory
      description: Total allocated memory
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_allocator_resident
    metadata:
      displayName: Total Resident Memory
      description: Total resident memory (RSS)
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_aof_last_cow_size
    metadata:
      displayName: Last Copy-on-write Size
      description: Last AOFR, CopyOnWrite memory
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_aof_rewrite_in_progress
    metadata:
      displayName: Simultaneous AoF Rewrites
      description: The number of simultaneous AOF rewrites that are in progress
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_aof_rewrites
    metadata:
      displayName: Simultaneous AoF Rewrites
      description: The number of AOF rewrites this process executed
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_aof_delayed_fsync
    metadata:
      displayName: The number of time AoF FSync caused delays
      description: Number of times an AOF fsync caused delays in the main Redis thread (inducing latency)
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_blocked_clients
    metadata:
      displayName: Blocked Client count
      description: count the clients waiting on a blocking call
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_connected_clients
    metadata:
      displayName: Connected Client count
      description: Number of client connections to the specific shard
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_connected_slaves
    metadata:
      displayName: Connected Replica count
      description: The number of time AoF FSync caused delays
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_db0_avg_ttl
    metadata:
      displayName: Average Volatile Key TTL
      description: Average TTL of all volatile keys
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_expired_keys
    metadata:
      displayName: Volatile Key count
      description: Total count of volatile keys
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_db0_keys
    metadata:
      displayName: Total Key count
      description: Total key count
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_evicted_keys
    metadata:
      displayName: Evicted Key count
      description: Keys evicted so far (since restart)
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_expire_cycle_cpu_milliseconds
    metadata:
      displayName: Cumulative Expiration Time
      description: The cumulative amount of time spent on active expiry cycles
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_forwarding_state
    metadata:
      displayName: Forwarding State
      description: Shard forwarding state (on or off)
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_keys_trimmed
    metadata:
      displayName: Recently Trimmed Keys
      description: The number of keys that were trimmed in the current or last resharding process
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_keyspace_read_hits
    metadata:
      displayName: Read Hit count
      description: The number of read operations accessing an existing keyspace
      unit: gauge
      tags:
        - "RedisV2"
        - "EF2"
        - "redis-shard"
  - key: redis.redis_server_keyspace_read_misses
    metadata:
      displayName: Read Miss count
      description: The number of read operations accessing a non-existing keyspace
      unit: gauge
      tags:
        - "RedisV2"
        - "EF2"
        - "redis-shard"
  - key: redis.redis_server_keyspace_write_hits
    metadata:
      displayName: Write Hit count
      description: The number of write operations accessing an existing keyspace
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_keyspace_write_misses
    metadata:
      displayName: Write Miss count
      description: The number of write operations accessing a non-existing keyspace
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_master_link_status
    metadata:
      displayName: Master Link Status
      description: Indicates if the replica is connected to its master
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_master_repl_offset
    metadata:
      displayName: Master Replication Offset
      description: The number of bytes sent to replicas by the shard; calculate the throughput for a time period by comparing the value at different times
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_master_sync_in_progress
    metadata:
      displayName: Master Sync In Progress
      description: The master shard is synchronizing; 1 = true, 0 = false
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_max_process_mem
    metadata:
      displayName: Max Process Memory
      description: Current memory limit configured by redis_mgr according to node free memory
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.db_config
    metadata:
      displayName: Database Configuration
      description: A metric with a constant '1' value labeled by a number of database configuration parameters as dimensions (e.g. db_name)
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_maxmemory
    metadata:
      displayName: Database Memory Limit
      description: Current memory limit configured by redis_mgr according to database memory limits
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_mem_aof_buffer
    metadata:
      displayName: AoF Buffer Size
      description: Current size of AOF buffer
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_mem_clients_normal
    metadata:
      displayName: Non-replica Client Buffer Memory
      description: Current memory used for input and output buffers of non-replica clients
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_mem_clients_slaves
    metadata:
      displayName: Replica Client Buffer Memory
      description: Current memory used for input and output buffers of replica clients
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_mem_fragmentation_ratio
    metadata:
      displayName: Memory Fragmentation Ratio
      description: Memory fragmentation ratio (1.3 means 30% overhead)
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_mem_not_counted_for_evict
    metadata:
      displayName: Unevictable Memory
      description: Portion of used_memory (in bytes) that's not counted for eviction and OOM error
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_mem_replication_backlog
    metadata:
      displayName: Replication Backlog Size
      description: Size of replication backlog
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_module_fork_in_progress
    metadata:
      displayName: Module Fork in Progress
      description: A binary value that indicates if there is an active fork spawned by a module (1) or not (0)
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: namedprocess_namegroup_cpu_seconds_total
    metadata:
      displayName: Shard Process CPU Seconds
      description: Shard process CPU usage percentage
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: namedprocess_namegroup_thread_cpu_seconds_total
    metadata:
      displayName: Main Thread CPU Seconds
      description: Shard main thread CPU time spent in seconds
      unit: count
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: namedprocess_namegroup_open_filedesc
    metadata:
      displayName: Open FD count
      description: Shard number of open file descriptors
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: namedprocess_namegroup_memory_bytes
    metadata:
      displayName: Shard Memory Size
      description: Shard memory size in bytes
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: namedprocess_namegroup_oldest_start_time_seconds
    metadata:
      displayName: Shard Process Age (seconds)
      description: Shard start time of the process since unix epoch in seconds
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_rdb_bgsave_in_progress
    metadata:
      displayName: Save In-Progress
      description: Indication if bgsave is currently in progress
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_rdb_last_cow_size
    metadata:
      displayName: Last Used CoW
      description: Last bgsave (or SYNC fork) used CopyOnWrite memory
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_rdb_saves
    metadata:
      displayName: BGSaves Since Restart
      description: Total count of bgsaves since the process was restarted (including replica fullsync and persistence)
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_repl_touch_bytes
    metadata:
      displayName: Replica Touch Bytes
      description: The number of bytes sent to replicas as TOUCH commands by the shard as a result of a READ command that was processed; calculate the throughput for a time period by comparing the value at different times
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_total_commands_processed
    metadata:
      displayName: Total Processed Commands
      description: The number of commands processed by the shard; calculate the number of commands for a time period by comparing the value at different times
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_total_connections_received
    metadata:
      displayName: Total Connection Received
      description: The number of connections received by the shard; calculate the number of connections for a time period by comparing the value at different times
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_total_net_input_bytes
    metadata:
      displayName: Net Input Bytesd
      description: The number of bytes received by the shard; calculate the throughput for a time period by comparing the value at different times
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_total_net_output_bytes
    metadata:
      displayName: Net Output Bytes
      description: The number of bytes sent by the shard; calculate the throughput for a time period by comparing the value at different times
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_up
    metadata:
      displayName: Shard Is Running
      description: Shard is up and running
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_used_memory
    metadata:
      displayName: Shard Used Memory
      description: Memory used by shard (in BigRedis this includes flash) (bytes)
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"
  - key: redis.redis_server_used_memory_rss
    metadata:
      displayName: Shard Used Memory RSS
      description: Memory used by shard (in BigRedis this includes flash) (bytes)
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-shard"

  # x509
  # x509_exporter_build_info lives in info
  - key: redis.x509_cert_expired
    metadata:
      displayName: x509 Cert Expired
      description: Certificate expiration; 0 = valie, 1 = expxiration
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-x509"
  - key: redis.x509_cert_expires_in_seconds
    metadata:
      displayName: x509 Certificate Expiration
      description: Number of destination writes acknowledged
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-x509"
  - key: redis.x509_cert_not_after
    metadata:
      displayName: x509 Certificate Expiration
      description: Number of destination writes acknowledged
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-x509"
  - key: redis.x509_cert_not_before
    metadata:
      displayName: x509 Certificate Expiration
      description: Number of destination writes acknowledged
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-x509"
  - key: redis.x509_cert_valid_since_seconds
    metadata:
      displayName: x509 Certificate Expiration
      description: Number of destination writes acknowledged
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-x509"
  - key: redis.x509_read_errors
    metadata:
      displayName: x509 Certificate Expiration
      description: Number of destination writes acknowledged
      unit: gauge
      tags:
      - "RedisV2"
      - "EF2"
      - "redis-x509"

prometheus:
  - group: redis enterprise v2 metrics
    interval:
      minutes: 1
    featureSet: all
    dimensions:
      - key: redis_v2
        value: const:redis_v2
    subgroups:
      - subgroup: redis_v2 global active
        dimensions:
          - key: global_active
            value: const:global_active
        metrics:
          - key: redis.database_syncer_config
            value: metric:database_syncer_config
            type: gauge
          - key: redis.database_syncer_current_status
            value: metric:database_syncer_current_status
            type: gauge
          - key: redis.database_syncer_dst_connectivity_state
            value: metric:database_syncer_dst_connectivity_state
            type: gauge
          - key: redis.database_syncer_dst_connectivity_state_ms
            value: metric:database_syncer_dst_connectivity_state_ms
            type: gauge
          - key: redis.database_syncer_dst_lag
            value: metric:database_syncer_dst_lag
            type: gauge
          - key: redis.database_syncer_dst_repl_offset
            value: metric:database_syncer_dst_repl_offset
            type: gauge
          - key: redis.database_syncer_flush_counter
            value: metric:database_syncer_flush_counter
            type: gauge
          - key: redis.database_syncer_ingress_bytes
            value: metric:database_syncer_ingress_bytes
            type: gauge
          - key: redis.database_syncer_ingress_bytes_decompressed
            value: metric:database_syncer_ingress_bytes_decompressed
            type: gauge
          - key: redis.database_syncer_internal_state
            value: metric:database_syncer_internal_state
            type: gauge
          - key: redis.database_syncer_lag_ms
            value: metric:database_syncer_lag_ms
            type: gauge
          - key: redis.database_syncer_rdb_size
            value: metric:database_syncer_rdb_size
            type: gauge
          - key: redis.database_syncer_rdb_transferred
            value: metric:database_syncer_rdb_transferred
            type: gauge
          - key: redis.database_syncer_src_connectivity_state
            value: metric:database_syncer_src_connectivity_state
            type: gauge
          - key: redis.database_syncer_src_connectivity_state_ms
            value: metric:database_syncer_src_connectivity_state_ms
            type: gauge
          - key: redis.database_syncer_src_repl_offset
            value: metric:database_syncer_src_repl_offset
            type: gauge
          - key: redis.database_syncer_state
            value: metric:database_syncer_state
            type: gauge
          - key: redis.database_syncer_syncer_repl_offset
            value: metric:database_syncer_syncer_repl_offset
            type: gauge
          - key: redis.database_syncer_total_requests
            value: metric:database_syncer_total_requests
            type: gauge
          - key: redis.database_syncer_total_responses
            value: metric:database_syncer_total_responses
            type: gauge

      - subgroup: redis_v2 global cluster
        dimensions:
          - key: global_cluster
            value: const:global_cluster
        metrics:
          - key: redis.generation
            value: metric:generation
            type: gauge
          - key: redis.has_quorum
            value: metric:has_quorum
            type: gauge
          - key: redis.is_primary
            value: metric:is_primary
            type: gauge
          - key: redis.license_shards_limit
            value: metric:license_shards_limit
            type: gauge
          - key: redis.total_live_nodes_count
            value: metric:total_live_nodes_count
            type: gauge
          - key: redis.total_node_count
            value: metric:total_node_count
            type: gauge
          - key: redis.total_primary_selection_ended
            value: metric:total_primary_selection_ended
            type: gauge
          - key: redis.total_primary_selections
            value: metric:total_primary_selections
            type: gauge

      - subgroup: redis_v2 global endpoint
        dimensions:
          - key: global_endpoint
            value: const:global_endpoint
        metrics:
          - key: redis.endpoint_client_connection_expired
            value: metric:endpoint_client_connection_expired
            type: count
          - key: redis.endpoint_client_connections
            value: metric:endpoint_client_connections
            type: gauge
          - key: redis.endpoint_client_disconnections
            value: metric:endpoint_client_disconnections
            type: gauge
          - key: redis.endpoint_client_establishment_failures
            value: metric:endpoint_client_establishment_failures
            type: count
          - key: redis.endpoint_client_expiration_refresh
            value: metric:endpoint_client_expiration_refresh
            type: count
          - key: redis.endpoint_client_tracking_off_requests
            value: metric:endpoint_client_tracking_off_requests
            type: count
          - key: redis.endpoint_client_tracking_on_requests
            value: metric:endpoint_client_tracking_on_requests
            type: count
          - key: redis.endpoint_dedicated_sconn_connections
            value: metric:endpoint_dedicated_sconn_connections
            type: count
          - key: redis.endpoint_dedicated_sconn_proxy_disconnections
            value: metric:endpoint_dedicated_sconn_proxy_disconnections
            type: count
          - key: redis.endpoint_dedicated_sconn_shard_disconnections
            value: metric:endpoint_dedicated_sconn_shard_disconnections
            type: count
          - key: redis.endpoint_disconnected_cba_client
            value: metric:endpoint_disconnected_cba_client
            type: count
          - key: redis.endpoint_disconnected_entraid_client
            value: metric:endpoint_disconnected_entraid_client
            type: count
          - key: redis.endpoint_disconnected_ldap_client
            value: metric:endpoint_disconnected_ldap_client
            type: count
          - key: redis.endpoint_disconnected_user_password_client
            value: metric:endpoint_disconnected_user_password_client
            type: count
          - key: redis.endpoint_disposed_commands_after_client_caching
            value: metric:endpoint_disposed_commands_after_client_caching
            type: count
          - key: redis.endpoint_egress
            value: metric:endpoint_egress
            type: count
          - key: redis.endpoint_egress_pending
            value: metric:endpoint_egress_pending
            type: count
          - key: redis.endpoint_egress_pending_discarded
            value: metric:endpoint_egress_pending_discarded
            type: count
          - key: redis.endpoint_failed_cba_authentication
            value: metric:endpoint_failed_cba_authentication
            type: count
          - key: redis.endpoint_failed_entraid_authentication
            value: metric:endpoint_failed_entraid_authentication
            type: count
          - key: redis.endpoint_failed_ldap_authentication
            value: metric:endpoint_failed_ldap_authentication
            type: count
          - key: redis.endpoint_failed_user_password_authentication
            value: metric:endpoint_failed_user_password_authentication
            type: count
          - key: redis.endpoint_ingress
            value: metric:endpoint_ingress
            type: count
          - key: redis.endpoint_internal_client_connections
            value: metric:endpoint_internal_client_connections
            type: count
          - key: redis.endpoint_internal_client_disconnections
            value: metric:endpoint_internal_client_disconnections
            type: count
          - key: redis.endpoint_internal_proxy_disconnections
            value: metric:endpoint_internal_proxy_disconnections
            type: count
          - key: redis.endpoint_longest_pipeline_histogram
            value: metric:endpoint_longest_pipeline_histogram
            type: histogram
          - key: redis.endpoint_other_requests
            value: metric:endpoint_other_requests
            type: count
          - key: redis.endpoint_other_requests_latency_histogram
            value: metric:endpoint_other_requests_latency_histogram
            type: histogram
          - key: redis.endpoint_other_responses
            value: metric:endpoint_other_responses
            type: count
          - key: redis.endpoint_proxy_disconnections
            value: metric:endpoint_proxy_disconnections
            type: count
          - key: redis.endpoint_read_requests
            value: metric:endpoint_read_requests
            type: count
          - key: redis.endpoint_read_requests_latency_histogram
            value: metric:endpoint_read_requests_latency_histogram
            type: histogram
          - key: redis.endpoint_read_responses
            value: metric:endpoint_read_responses
            type: count
          - key: redis.endpoint_sconn_application_handshake_failure
            value: metric:endpoint_sconn_application_handshake_failure
            type: count
          - key: redis.endpoint_sconn_establishment_failure
            value: metric:endpoint_sconn_establishment_failure
            type: count
          - key: redis.endpoint_server_available_again
            value: metric:endpoint_server_available_again
            type: count
          - key: redis.endpoint_server_became_unavailable
            value: metric:endpoint_server_became_unavailable
            type: count
          - key: redis.endpoint_shared_sconn_connections
            value: metric:endpoint_shared_sconn_connections
            type: count
          - key: redis.endpoint_shared_sconn_proxy_disconnections
            value: metric:endpoint_shared_sconn_proxy_disconnections
            type: count
          - key: redis.endpoint_shared_sconn_shard_disconnections
            value: metric:endpoint_shared_sconn_shard_disconnections
            type: count
          - key: redis.endpoint_successful_cba_authentication
            value: metric:endpoint_successful_cba_authentication
            type: count
          - key: redis.endpoint_successful_entraid_authentication
            value: metric:endpoint_successful_entraid_authentication
            type: count
          - key: redis.endpoint_successful_ldap_authentication
            value: metric:endpoint_successful_ldap_authentication
            type: count
          - key: redis.endpoint_successful_user_password_authentication
            value: metric:endpoint_successful_user_password_authentication
            type: count
          - key: redis.endpoint_write_requests
            value: metric:endpoint_write_requests
            type: count
          - key: redis.endpoint_write_requests_latency_histogram
            value: metric:endpoint_write_requests_latency_histogram
            type: histogram
          - key: redis.endpoint_write_responses
            value: metric:endpoint_write_responses
            type: count

      - subgroup: redis_v2 global info
        dimensions:
          - key: global_info
            value: const:global_info
        metrics:
          - key: redis.node_dmi_info
            value: metric:node_dmi_info
            type: count
          - key: redis.node_os_info
            value: metric:node_os_info
            type: count

      - subgroup: redis_v2 global node
        dimensions:
          - key: global_node
            value: const:global_node
        metrics:
          - key: redis.node_available_flash_bytes
            value: metric:node_available_flash_bytes
            type: gauge
          - key: redis.node_available_flash_no_overbooking_bytes
            value: metric:node_available_flash_no_overbooking_bytes
            type: gauge
          - key: redis.node_available_memory_bytes
            value: metric:node_available_memory_bytes
            type: gauge
          - key: redis.node_available_memory_no_overbooking_bytes
            value: metric:node_available_memory_no_overbooking_bytes
            type: gauge
          - key: redis.node_bigstore_free_bytes
            value: metric:node_bigstore_free_bytes
            type: gauge
          - key: redis.node_cert_expires_in_seconds
            value: metric:node_cert_expires_in_seconds
            type: gauge
          - key: redis.node_ephemeral_storage_avail_bytes
            value: metric:node_ephemeral_storage_avail_bytes
            type: gauge
          - key: redis.node_ephemeral_storage_free_bytes
            value: metric:node_ephemeral_storage_free_bytes
            type: gauge
          - key: redis.node_memory_MemFree_bytes
            value: metric:node_memory_MemFree_bytes
            type: gauge
          - key: redis.node_persistent_storage_avail_bytes
            value: metric:node_persistent_storage_avail_bytes
            type: gauge
          - key: redis.node_persistent_storage_free_bytes
            value: metric:node_persistent_storage_free_bytes
            type: gauge
          - key: redis.node_provisional_flash_bytes
            value: metric:node_provisional_flash_bytes
            type: gauge
          - key: redis.node_provisional_flash_no_overbooking_bytes
            value: metric:node_provisional_flash_no_overbooking_bytes
            type: gauge
          - key: redis.node_provisional_memory_bytes
            value: metric:node_provisional_memory_bytes
            type: gauge
          - key: redis.node_provisional_memory_no_overbooking_bytes
            value: metric:node_provisional_memory_no_overbooking_bytes
            type: gauge
          - key: redis.node_metrics_up
            value: metric:node_metrics_up
            type: gauge

      - subgroup: redis_v2 global network
        dimensions:
          - key: global_network
            value: const:global_network
        metrics:
          - key: redis.node_network_receive_bytes_total
            value: metric:node_network_receive_bytes_total
            type: count
          - key: redis.node_network_receive_compressed_total
            value: metric:node_network_receive_compressed_total
            type: count
          - key: redis.node_network_receive_drop_total
            value: metric:node_network_receive_drop_total
            type: count
          - key: redis.node_network_receive_errs_total
            value: metric:node_network_receive_errs_total
            type: count
          - key: redis.node_network_receive_fifo_total
            value: metric:node_network_receive_fifo_total
            type: count
          - key: redis.node_network_receive_frame_total
            value: metric:node_network_receive_frame_total
            type: count
          - key: redis.node_network_receive_multicast_total
            value: metric:node_network_receive_multicast_total
            type: count
          - key: redis.node_network_receive_nohandler_total
            value: metric:node_network_receive_nohandler_total
            type: count
          - key: redis.node_network_receive_packets_total
            value: metric:node_network_receive_packets_total
            type: count
          - key: redis.node_network_transmit_bytes_total
            value: metric:node_network_transmit_bytes_total
            type: count
          - key: redis.node_network_transmit_carrier_total
            value: metric:node_network_transmit_carrier_total
            type: count
          - key: redis.node_network_transmit_colls_total
            value: metric:node_network_transmit_colls_total
            type: count
          - key: redis.node_network_transmit_compressed_total
            value: metric:node_network_transmit_compressed_total
            type: count
          - key: redis.node_network_transmit_drop_total
            value: metric:node_network_transmit_drop_total
            type: count
          - key: redis.node_network_transmit_errs_total
            value: metric:node_network_transmit_errs_total
            type: count
          - key: redis.node_network_transmit_fifo_total
            value: metric:node_network_transmit_fifo_total
            type: count
          - key: redis.node_network_transmit_packets_total
            value: metric:node_network_transmit_packets_total
            type: count

      - subgroup: redis_v2 global shard
        dimensions:
          - key: global_shard
            value: const:global_shard
        metrics:
          - key: redis.redis_server_active_defrag_running
            value: metric:redis_server_active_defrag_running
            type: gauge
          - key: redis.redis_server_allocator_active
            value: metric:redis_server_allocator_active
            type: gauge
          - key: redis.redis_server_allocator_allocated
            value: metric:redis_server_allocator_allocated
            type: gauge
          - key: redis.redis_server_allocator_resident
            value: metric:redis_server_allocator_resident
            type: gauge
          - key: redis.redis_server_aof_last_cow_size
            value: metric:redis_server_aof_last_cow_size
            type: gauge
          - key: redis.redis_server_aof_rewrite_in_progress
            value: metric:redis_server_aof_rewrite_in_progress
            type: gauge
          - key: redis.redis_server_aof_rewrites
            value: metric:redis_server_aof_rewrites
            type: gauge
          - key: redis.redis_server_aof_delayed_fsync
            value: metric:redis_server_aof_delayed_fsync
            type: gauge
          - key: redis.redis_server_blocked_clients
            value: metric:redis_server_blocked_clients
            type: gauge
          - key: redis.redis_server_connected_clients
            value: metric:redis_server_connected_clients
            type: gauge
          - key: redis.redis_server_connected_slaves
            value: metric:redis_server_connected_slaves
            type: gauge
          - key: redis.redis_server_db0_avg_ttl
            value: metric:redis_server_db0_avg_ttl
            type: gauge
          - key: redis.redis_server_expired_keys
            value: metric:redis_server_expired_keys
            type: gauge
          - key: redis.redis_server_db0_keys
            value: metric:redis_server_db0_keys
            type: gauge
          - key: redis.redis_server_evicted_keys
            value: metric:redis_server_evicted_keys
            type: gauge
          - key: redis.redis_server_expire_cycle_cpu_milliseconds
            value: metric:redis_server_expire_cycle_cpu_milliseconds
            type: gauge
          - key: redis.redis_server_expired_keys
            value: metric:redis_server_expired_keys
            type: gauge
          - key: redis.redis_server_forwarding_state
            value: metric:redis_server_forwarding_state
            type: gauge
          - key: redis.redis_server_keys_trimmed
            value: metric:redis_server_keys_trimmed
            type: gauge
          - key: redis.redis_server_keyspace_read_hits
            value: metric:redis_server_keyspace_read_hits
            type: gauge
          - key: redis.redis_server_keyspace_read_misses
            value: metric:redis_server_keyspace_read_misses
            type: gauge
          - key: redis.redis_server_keyspace_write_hits
            value: metric:redis_server_keyspace_write_hits
            type: gauge
          - key: redis.redis_server_keyspace_write_misses
            value: metric:redis_server_keyspace_write_misses
            type: gauge
          - key: redis.redis_server_master_link_status
            value: metric:redis_server_master_link_status
            type: gauge
          - key: redis.redis_server_master_repl_offset
            value: metric:redis_server_master_repl_offset
            type: gauge
          - key: redis.redis_server_master_sync_in_progress
            value: metric:redis_server_master_sync_in_progress
            type: gauge
          - key: redis.db_config
            value: metric:db_config
            type: count
          - key: redis.redis_server_max_process_mem
            value: metric:redis_server_max_process_mem
            type: gauge
          - key: redis.redis_server_maxmemory
            value: metric:redis_server_maxmemory
            type: gauge
          - key: redis.redis_server_mem_aof_buffer
            value: metric:redis_server_mem_aof_buffer
            type: gauge
          - key: redis.redis_server_mem_clients_normal
            value: metric:redis_server_mem_clients_normal
            type: gauge
          - key: redis.redis_server_mem_clients_slaves
            value: metric:redis_server_mem_clients_slaves
            type: gauge
          - key: redis.redis_server_mem_fragmentation_ratio
            value: metric:redis_server_mem_fragmentation_ratio
            type: gauge
          - key: redis.redis_server_mem_not_counted_for_evict
            value: metric:redis_server_mem_not_counted_for_evict
            type: gauge
          - key: redis.redis_server_mem_replication_backlog
            value: metric:redis_server_mem_replication_backlog
            type: gauge
          - key: redis.redis_server_module_fork_in_progress
            value: metric:redis_server_module_fork_in_progress
            type: gauge
          - key: redis.namedprocess_namegroup_cpu_seconds_total
            value: metric:namedprocess_namegroup_cpu_seconds_total
            type: count
          - key: redis.namedprocess_namegroup_thread_cpu_seconds_total
            value: metric:namedprocess_namegroup_thread_cpu_seconds_total
            type: count
          - key: redis.namedprocess_namegroup_open_filedesc
            value: metric:namedprocess_namegroup_open_filedesc
            type: gauge
          - key: redis.namedprocess_namegroup_memory_bytes
            value: metric:namedprocess_namegroup_memory_bytes
            type: gauge
          - key: redis.namedprocess_namegroup_oldest_start_time_seconds
            value: metric:namedprocess_namegroup_oldest_start_time_seconds
            type: gauge
          - key: redis.redis_server_rdb_bgsave_in_progress
            value: metric:redis_server_rdb_bgsave_in_progress
            type: gauge
          - key: redis.redis_server_rdb_last_cow_size
            value: metric:redis_server_rdb_last_cow_size
            type: gauge
          - key: redis.redis_server_rdb_saves
            value: metric:redis_server_rdb_saves
            type: gauge
          - key: redis.redis_server_repl_touch_bytes
            value: metric:redis_server_repl_touch_bytes
            type: gauge
          - key: redis.redis_server_total_commands_processed
            value: metric:redis_server_total_commands_processed
            type: gauge
          - key: redis.redis_server_total_connections_received
            value: metric:redis_server_total_connections_received
            type: gauge
          - key: redis.redis_server_total_net_input_bytes
            value: metric:redis_server_total_net_input_bytes
            type: gauge
          - key: redis.redis_server_total_net_output_bytes
            value: metric:redis_server_total_net_output_bytes
            type: gauge
          - key: redis.redis_server_up
            value: metric:redis_server_up
            type: gauge
          - key: redis.redis_server_used_memory
            value: metric:redis_server_used_memory
            type: gauge
          - key: redis.redis_server_used_memory_rss
            value: metric:redis_server_used_memory_rss
            type: gauge

      - subgroup: redis_v2 global replication
        dimensions:
          - key: global_replication
            value: const:global_replication
        metrics:
          - key: redis.redis_server_crdt_backlog_histlen
            value: metric:redis_server_crdt_backlog_histlen
            type: gauge
          - key: redis.redis_server_crdt_backlog_idx
            value: metric:redis_server_crdt_backlog_idx
            type: gauge
          - key: redis.redis_server_crdt_backlog_master_offset
            value: metric:redis_server_crdt_backlog_master_offset
            type: gauge
          - key: redis.redis_server_crdt_backlog_offset
            value: metric:redis_server_crdt_backlog_offset
            type: gauge
          - key: redis.redis_server_crdt_backlog_refs
            value: metric:redis_server_crdt_backlog_refs
            type: gauge
          - key: redis.redis_server_crdt_backlog_size
            value: metric:redis_server_crdt_backlog_size
            type: gauge
          - key: redis.redis_server_crdt_clock
            value: metric:redis_server_crdt_clock
            type: gauge
          - key: redis.redis_server_crdt_effect_reqs
            value: metric:redis_server_crdt_effect_reqs
            type: gauge
          - key: redis.redis_server_crdt_gc_attempted
            value: metric:redis_server_crdt_gc_attempted
            type: gauge
          - key: redis.redis_server_crdt_gc_collected
            value: metric:redis_server_crdt_gc_collected
            type: gauge
          - key: redis.redis_server_crdt_gc_elements_attempted
            value: metric:redis_server_crdt_gc_elements_attempted
            type: gauge
          - key: redis.redis_server_crdt_gc_elements_collected
            value: metric:redis_server_crdt_gc_elements_collected
            type: gauge
          - key: redis.redis_server_crdt_gc_pending
            value: metric:redis_server_crdt_gc_pending
            type: gauge
          - key: redis.redis_server_crdt_gc_skipped
            value: metric:redis_server_crdt_gc_skipped
            type: gauge
          - key: redis.redis_server_crdt_key_headers
            value: metric:redis_server_crdt_key_headers
            type: gauge
          - key: redis.redis_server_crdt_list_trimmed_vertices
            value: metric:redis_server_crdt_list_trimmed_vertices
            type: gauge
          - key: redis.redis_server_crdt_merge_reqs
            value: metric:redis_server_crdt_merge_reqs
            type: gauge
          - key: redis.redis_server_crdt_oom_latch
            value: metric:redis_server_crdt_oom_latch
            type: gauge
          - key: redis.redis_server_crdt_ovc_filtered_effect_reqs
            value: metric:redis_server_crdt_ovc_filtered_effect_reqs
            type: gauge
          - key: redis.redis_server_crdt_peer_dst_id
            value: metric:redis_server_crdt_peer_dst_id
            type: gauge
          - key: redis.redis_server_crdt_peer_id
            value: metric:redis_server_crdt_peer_id
            type: gauge
          - key: redis.redis_server_crdt_peer_lag
            value: metric:redis_server_crdt_peer_lag
            type: gauge
          - key: redis.redis_server_crdt_peer_offset
            value: metric:redis_server_crdt_peer_offset
            type: gauge
          - key: redis.redis_server_crdt_peer_peer_state
            value: metric:redis_server_crdt_peer_peer_state
            type: gauge
          - key: redis.redis_server_crdt_pending_list_trimmed_vertices
            value: metric:redis_server_crdt_pending_list_trimmed_vertices
            type: gauge
          - key: redis.redis_server_crdt_raw_dbsize
            value: metric:redis_server_crdt_raw_dbsize
            type: gauge
          - key: redis.redis_server_crdt_replica_config_version
            value: metric:redis_server_crdt_replica_config_version
            type: gauge
          - key: redis.redis_server_crdt_replica_max_ops_lag
            value: metric:redis_server_crdt_replica_max_ops_lag
            type: gauge
          - key: redis.redis_server_crdt_replica_min_ops_lag
            value: metric:redis_server_crdt_replica_min_ops_lag
            type: gauge
          - key: redis.redis_server_crdt_replica_shards
            value: metric:redis_server_crdt_replica_shards
            type: gauge
          - key: redis.redis_server_crdt_replica_slot_coverage_by_any_ovc
            value: metric:redis_server_crdt_replica_slot_coverage_by_any_ovc
            type: gauge
          - key: redis.redis_server_crdt_replica_slot_coverage_by_only_ovc
            value: metric:redis_server_crdt_replica_slot_coverage_by_only_ovc
            type: gauge
          - key: redis.redis_server_crdt_replica_slots
            value: metric:redis_server_crdt_replica_slots
            type: gauge
          - key: redis.redis_server_crdt_stale_replica
            value: metric:redis_server_crdt_stale_replica
            type: gauge
          - key: redis.redis_server_crdt_ts_key_headers
            value: metric:redis_server_crdt_ts_key_headers
            type: gauge

      - subgroup: redis_v2 global x509
        dimensions:
          - key: global_x509
            value: const:global_x509
        metrics:
          - key: redis.x509_cert_expired
            value: metric:x509_cert_expired
            type: gauge
          - key: redis.x509_cert_expires_in_seconds
            value: metric:x509_cert_expires_in_seconds
            type: gauge
          - key: redis.x509_cert_not_after
            value: metric:x509_cert_not_after
            type: gauge
          - key: redis.x509_cert_not_before
            value: metric:x509_cert_not_before
            type: gauge
          - key: redis.x509_cert_valid_since_seconds
            value: metric:x509_cert_valid_since_seconds
            type: gauge
          - key: redis.x509_read_errors
            value: metric:x509_read_errors
            type: gauge

